<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Imperfect Tense</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: #f8f9fa;
            min-height: 100vh;
            display: flex;
        }

        .sidebar {
            width: 260px;
            background: white;
            border-right: 1px solid #e5e7eb;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
        }

        .logo-section {
            padding: 1.5rem 1.25rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #0066ff 0%, #4d94ff 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            font-size: 1.1rem;
        }

        .logo-text {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1f2937;
        }

        .nav-section {
            padding: 1rem 0.5rem;
        }

        .nav-title {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            color: #9ca3af;
            letter-spacing: 0.05em;
            padding: 0 0.75rem;
            margin-bottom: 0.5rem;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.625rem 0.75rem;
            margin: 0.125rem 0;
            border-radius: 8px;
            color: #4b5563;
            font-size: 0.9rem;
            transition: all 0.15s ease;
            cursor: pointer;
            user-select: none;
        }

        .nav-item:hover {
            background: #f3f4f6;
            color: #1f2937;
        }

        .nav-item.active {
            background: #eef2ff;
            color: #0066ff;
            font-weight: 500;
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }

        .main-content {
            margin-left: 260px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .top-bar {
            background: white;
            border-bottom: 1px solid #e5e7eb;
            padding: 0.875rem 2rem;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .content-wrapper {
            flex: 1;
            overflow-y: auto;
        }

        .content-container {
            max-width: 900px;
            margin: 0 auto;
            padding: 2rem;
        }

        .lesson-header {
            margin-bottom: 2rem;
        }

        .lesson-title {
            font-size: 2rem;
            font-weight: 700;
            color: #1f2937;
            margin-bottom: 0.5rem;
        }

        .lesson-meta {
            display: flex;
            gap: 1.5rem;
            font-size: 0.875rem;
            color: #6b7280;
        }

        .section-content {
            display: none;
        }

        .section-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card {
            background: white;
            border-radius: 12px;
            border: 1px solid #e5e7eb;
            padding: 2rem;
            margin-bottom: 1.5rem;
        }

        .explanation-text {
            font-size: 1.05rem;
            line-height: 1.7;
            color: #4b5563;
            margin-bottom: 2rem;
        }

        .example-box {
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 2rem;
            text-align: center;
            margin-bottom: 2rem;
        }

        .example-label {
            font-size: 0.85rem;
            font-weight: 600;
            color: #6b7280;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 1rem;
        }

        .latin-example {
            font-size: 1.75rem;
            font-weight: 500;
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .highlight-word {
            background: rgba(168, 85, 247, 0.2);
            padding: 0.25rem 0.5rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-block;
            margin: 0 0.25rem;
        }

        .highlight-word:hover {
            background: rgba(168, 85, 247, 0.35);
        }

        .breakdown-section {
            background: white;
        }

        .breakdown-section h3 {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 1rem;
        }

        .breakdown-item {
            display: none;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            margin-bottom: 0.75rem;
            border-radius: 8px;
            font-size: 0.95rem;
            background: rgba(168, 85, 247, 0.1);
            border-left: 3px solid #a855f7;
        }

        .breakdown-item.revealed {
            display: flex;
        }

        .breakdown-word {
            font-weight: 600;
            color: #1f2937;
            min-width: 120px;
        }

        .breakdown-arrow {
            color: #9ca3af;
        }

        .breakdown-meaning {
            color: #4b5563;
        }

        .conjugation-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .conjugation-card {
            background: #f9fafb;
            border: 3px solid #e5e7eb;
            border-radius: 16px;
            padding: 1.5rem;
            text-align: center;
            transition: all 0.3s ease;
        }

        .conjugation-card.first {
            border-color: #ec4899;
            background: linear-gradient(to bottom, #fdf2f8 0%, #fce7f3 100%);
        }

        .conjugation-card.second {
            border-color: #3b82f6;
            background: linear-gradient(to bottom, #eff6ff 0%, #dbeafe 100%);
        }

        .conjugation-card.third {
            border-color: #a855f7;
            background: linear-gradient(to bottom, #faf5ff 0%, #f3e8ff 100%);
        }

        .conjugation-card.fourth {
            border-color: #10b981;
            background: linear-gradient(to bottom, #ecfdf5 0%, #d1fae5 100%);
        }

        .conjugation-label {
            font-weight: 700;
            font-size: 1rem;
            color: #1f2937;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .endings-table {
            background: white;
            border-radius: 8px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .endings-row {
            display: grid;
            grid-template-columns: 80px 1fr 1fr;
            gap: 1rem;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .endings-row.reveal-row {
            opacity: 0.3;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .endings-row.reveal-row:hover {
            opacity: 0.5;
            background: #f9fafb;
        }

        .endings-row.reveal-row.revealed {
            opacity: 1;
            cursor: default;
        }

        .endings-row.reveal-row.revealed:hover {
            background: transparent;
        }

        .endings-row:last-child {
            border-bottom: none;
        }

        .endings-row.header {
            background: #f3f4f6;
            font-weight: 600;
            font-size: 0.85rem;
            text-transform: uppercase;
            color: #6b7280;
        }

        .endings-cell {
            font-size: 0.95rem;
            color: #1f2937;
        }

        .endings-cell.latin {
            font-weight: 600;
        }

        .reveal-box {
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .reveal-box:hover {
            border-color: #0066ff;
            background: #f3f4f6;
        }

        .reveal-box.revealed {
            cursor: pointer;
            border-color: #0066ff;
            background: #eef2ff;
        }

        .reveal-box.revealed:hover {
            background: #e0e7ff;
        }

        .reveal-prompt {
            text-align: center;
            color: #6b7280;
            font-weight: 500;
            font-size: 0.95rem;
        }

        .reveal-prompt.hidden {
            display: none;
        }

        .reveal-content {
            display: none;
        }

        .reveal-content.visible {
            display: block;
        }

        .key-point {
            background: #eff6ff;
            border-left: 4px solid #0066ff;
            padding: 1rem 1.25rem;
            border-radius: 8px;
            margin: 1.5rem 0;
        }

        .key-point-title {
            font-weight: 600;
            color: #1e40af;
            margin-bottom: 0.5rem;
            font-size: 0.95rem;
        }

        .key-point-text {
            color: #1e40af;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .exercise-section {
            margin-bottom: 2rem;
        }

        .exercise-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 1rem;
        }

        .exercise-item {
            background: white;
            border: 2px solid #d1d5db;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .exercise-item:hover {
            border-color: #9ca3af;
        }

        .exercise-item.revealed {
            cursor: default;
            border-color: #10b981;
        }

        .exercise-question {
            font-size: 1.15rem;
            color: #1f2937;
            margin-bottom: 2rem;
            font-weight: 500;
        }

        .exercise-answer {
            display: none;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 2px solid #10b981;
            color: #059669;
            font-weight: 600;
            font-size: 1.05rem;
        }

        .exercise-answer.visible {
            display: block;
        }

        .exercise-write-space {
            min-height: 80px;
            border-bottom: 2px solid #e5e7eb;
            margin-top: 1rem;
        }

        .hint-text {
            font-size: 0.85rem;
            color: #6b7280;
            font-style: italic;
            margin-top: 0.25rem;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #e5e7eb;
        }

        .nav-btn {
            padding: 0.75rem 1.5rem;
            background: white;
            border: 2px solid #e5e7eb;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            color: #374151;
            cursor: pointer;
            transition: all 0.15s ease;
        }

        .nav-btn:hover:not(:disabled) {
            border-color: #0066ff;
            background: #f9fafb;
            color: #0066ff;
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .nav-btn.primary {
            background: #0066ff;
            border-color: #0066ff;
            color: white;
        }

        .nav-btn.primary:hover {
            background: #0052cc;
        }

        .comparison-box {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        .comparison-item {
            background: #f9fafb;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 1.5rem;
        }

        .comparison-label {
            font-weight: 600;
            color: #6b7280;
            font-size: 0.85rem;
            text-transform: uppercase;
            margin-bottom: 1rem;
            text-align: center;
        }

        .comparison-example {
            font-size: 1.2rem;
            font-weight: 600;
            color: #1f2937;
            text-align: center;
            margin-bottom: 0.5rem;
        }

        .comparison-meaning {
            font-size: 0.9rem;
            color: #6b7280;
            text-align: center;
        }

        .pattern-box {
            background: #fef3c7;
            border: 2px solid #f59e0b;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            text-align: center;
        }

        .pattern-formula {
            font-size: 1.3rem;
            font-weight: 700;
            color: #92400e;
            margin-bottom: 0.5rem;
        }

        .pattern-example {
            font-size: 0.95rem;
            color: #78350f;
            margin-top: 0.5rem;
        }

        .full-conjugation-table {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            margin: 1.5rem 0;
            border: 2px solid #e5e7eb;
        }

        .conj-header-row {
            display: grid;
            grid-template-columns: 100px repeat(4, 1fr);
            gap: 0.5rem;
            padding: 1rem;
            background: #f3f4f6;
            font-weight: 700;
            font-size: 0.85rem;
            text-transform: uppercase;
            color: #6b7280;
            text-align: center;
            border-bottom: 2px solid #e5e7eb;
        }

        .conj-row {
            display: grid;
            grid-template-columns: 100px repeat(4, 1fr);
            gap: 0.5rem;
            padding: 1rem;
            border-bottom: 1px solid #e5e7eb;
            align-items: center;
        }

        .conj-row:last-child {
            border-bottom: none;
        }

        .conj-row.plural-start {
            border-top: 2px solid #e5e7eb;
        }

        .conj-person {
            font-weight: 600;
            color: #6b7280;
            font-size: 0.9rem;
        }

        .conj-verb {
            font-size: 1rem;
            font-weight: 600;
            color: #1f2937;
            text-align: center;
        }

        .conj-verb.first {
            color: #ec4899;
        }

        .conj-verb.second {
            color: #3b82f6;
        }

        .conj-verb.third {
            color: #a855f7;
        }

        .conj-verb.fourth {
            color: #10b981;
        }

        .ba-highlight {
            background: rgba(249, 115, 22, 0.2);
            padding: 0.1rem 0.2rem;
            border-radius: 3px;
            font-weight: 700;
        }

        .translation-options {
            background: #f0fdf4;
            border: 2px solid #10b981;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .translation-options h4 {
            font-weight: 600;
            color: #065f46;
            margin-bottom: 1rem;
            text-align: center;
        }

        .translation-option {
            background: white;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 0.75rem;
        }

        .translation-option:last-child {
            margin-bottom: 0;
        }

        .translation-type {
            font-weight: 600;
            color: #059669;
            font-size: 0.85rem;
            text-transform: uppercase;
            margin-bottom: 0.25rem;
        }

        .translation-text {
            color: #1f2937;
            font-size: 1rem;
        }

        .translation-note {
            font-size: 0.85rem;
            color: #6b7280;
            font-style: italic;
            margin-top: 0.25rem;
        }
    </style>
</head>
<body>
    <aside class="sidebar">
        <div class="logo-section">
            <div class="logo">
                <div class="logo-icon">C</div>
                <span class="logo-text">Classicalia</span>
            </div>
        </div>

        <nav class="nav-section">
            <div class="nav-title">Lesson Sections</div>
            <div class="nav-item active" data-section="starter">
                <span class="nav-icon">üéØ</span>
                <span>Starter Sentence</span>
            </div>
            <div class="nav-item" data-section="intro">
                <span class="nav-icon">üí°</span>
                <span>What is the Imperfect?</span>
            </div>
            <div class="nav-item" data-section="endings">
                <span class="nav-icon">üîß</span>
                <span>Imperfect Endings</span>
            </div>
            <div class="nav-item" data-section="formation">
                <span class="nav-icon">üìê</span>
                <span>Forming the Imperfect</span>
            </div>
            <div class="nav-item" data-section="translations">
                <span class="nav-icon">üîÑ</span>
                <span>Translation Options</span>
            </div>
            <div class="nav-item" data-section="practice">
                <span class="nav-icon">‚úèÔ∏è</span>
                <span>Practice</span>
            </div>
        </nav>
    </aside>

    <main class="main-content">
        <div class="top-bar"></div>
        <div class="content-wrapper">
            <div class="content-container">
                <header class="lesson-header">
                    <h1 class="lesson-title">The Imperfect Tense</h1>
                    <div class="lesson-meta">
                        <span>üìö Year 9 Latin</span>
                        <span>‚è±Ô∏è 30 min</span>
                        <span>üìä Intermediate</span>
                    </div>
                </header>

                <div class="section-content active" id="starter">
                    <div class="card">
                        <p class="explanation-text">
                            Can you translate this sentence? Click on each word to reveal its meaning, then click below to see the full translation.
                        </p>

                        <div class="example-box">
                            <div class="example-label">Starter Sentence:</div>
                            <div class="latin-example">
                                <span class="highlight-word" data-reveal="dominus">dominus</span>
                                <span class="highlight-word" data-reveal="epistulam">epistulam</span>
                                <span class="highlight-word" data-reveal="scribebat">scribƒìbat</span>
                            </div>
                        </div>

                        <div class="breakdown-section">
                            <h3>Breaking it down:</h3>
                            <div class="breakdown-item" data-breakdown="dominus">
                                <span class="breakdown-word">dominus</span>
                                <span class="breakdown-arrow">‚Üí</span>
                                <span class="breakdown-meaning">the master (nominative)</span>
                            </div>
                            <div class="breakdown-item" data-breakdown="epistulam">
                                <span class="breakdown-word">epistulam</span>
                                <span class="breakdown-arrow">‚Üí</span>
                                <span class="breakdown-meaning">a letter (accusative)</span>
                            </div>
                            <div class="breakdown-item" data-breakdown="scribebat">
                                <span class="breakdown-word">scribƒìbat</span>
                                <span class="breakdown-arrow">‚Üí</span>
                                <span class="breakdown-meaning">he/she was writing (imperfect tense)</span>
                            </div>
                        </div>

                        <div class="reveal-box toggle-box" data-toggle="starter-note">
                            <div class="reveal-prompt">üí° Click to see the full translation</div>
                            <div class="reveal-content">
                                <div style="text-align: center; font-size: 1.1rem; color: #4b5563; line-height: 1.7;">
                                    <p style="margin-bottom: 0.5rem;"><strong>The master was writing a letter</strong></p>
                                    <p style="margin-top: 1rem; font-size: 0.9rem; color: #6b7280;">Notice the new ending <strong>-ƒìbat</strong> ‚Äî this tells us the action was happening in the past!</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="nav-buttons">
                        <button class="nav-btn" disabled>‚Üê Previous</button>
                        <button class="nav-btn primary" data-goto="intro">Next: What is the Imperfect? ‚Üí</button>
                    </div>
                </div>

                <div class="section-content" id="intro">
                    <div class="card">
                        <h2 style="font-size: 1.5rem; font-weight: 600; color: #1f2937; margin-bottom: 1.5rem;">
                            What is the Imperfect Tense?
                        </h2>
                        
                        <p class="explanation-text">
                            All the verbs we have met so far have been in the <strong>present tense</strong> ‚Äî the action is happening now. To describe an action that happened <strong>in the past</strong>, and <strong>over a period of time</strong>, we use the <strong>imperfect tense</strong>.
                        </p>

                        <div class="comparison-box">
                            <div class="comparison-item">
                                <div class="comparison-label">Present Tense</div>
                                <div class="comparison-example">port≈ç</div>
                                <div class="reveal-box toggle-box" data-toggle="present-meaning" style="margin-top: 1rem; padding: 0.75rem; background: white;">
                                    <div class="reveal-prompt" style="font-size: 0.85rem;">Click to see meaning</div>
                                    <div class="reveal-content">
                                        <div class="comparison-meaning">I carry</div>
                                        <div style="margin-top: 0.5rem; font-size: 0.85rem; color: #6b7280; line-height: 1.5;">
                                            Action happening now
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="comparison-item" style="border-color: #f97316; background: linear-gradient(to bottom, #fff7ed 0%, #ffedd5 100%);">
                                <div class="comparison-label" style="color: #c2410c;">Imperfect Tense</div>
                                <div class="comparison-example">portƒÅbam</div>
                                <div class="reveal-box toggle-box" data-toggle="imperfect-meaning" style="margin-top: 1rem; padding: 0.75rem; background: white;">
                                    <div class="reveal-prompt" style="font-size: 0.85rem;">Click to see meaning</div>
                                    <div class="reveal-content">
                                        <div class="comparison-meaning">I was carrying</div>
                                        <div style="margin-top: 0.5rem; font-size: 0.85rem; color: #6b7280; line-height: 1.5;">
                                            Action happening in the past, over a period of time
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="pattern-box">
                            <div style="font-size: 1.1rem; font-weight: 600; color: #92400e; margin-bottom: 0.5rem;">
                                Basic meaning
                            </div>
                            <div class="pattern-formula">was/were X-ing</div>
                            <div class="pattern-example">I was carrying the food into the garden.</div>
                        </div>

                        <div class="reveal-box toggle-box" data-toggle="etymology">
                            <div class="reveal-prompt">üìñ Where does "imperfect" come from?</div>
                            <div class="reveal-content">
                                <p style="font-size: 1.05rem; line-height: 1.7; color: #4b5563;">
                                    The term <strong>imperfect</strong> comes from Latin <em>imperfectus</em>, which literally means <strong>unfinished</strong> (as opposed to the modern sense of "faulty").
                                </p>
                                <p style="margin-top: 1rem; font-size: 1.05rem; line-height: 1.7; color: #4b5563;">
                                    An action <em>was happening</em>, but it was interrupted, and so unfinished ‚Äî as in <em>I was writing the letter when...</em>
                                </p>
                            </div>
                        </div>

                        <div class="key-point">
                            <div class="key-point-title">Setting the Scene</div>
                            <div class="key-point-text">
                                The imperfect tense is often used to give <strong>background</strong> to a story ‚Äî describing what was happening when something else occurred.
                            </div>
                        </div>
                    </div>

                    <div class="nav-buttons">
                        <button class="nav-btn" data-goto="starter">‚Üê Previous</button>
                        <button class="nav-btn primary" data-goto="endings">Next: Imperfect Endings ‚Üí</button>
                    </div>
                </div>

                <div class="section-content" id="endings">
                    <div class="card">
                        <h2 style="font-size: 1.5rem; font-weight: 600; color: #1f2937; margin-bottom: 1.5rem;">
                            Imperfect Tense Endings
                        </h2>

                        <p class="explanation-text">
                            The imperfect tense has its own set of endings. It uses a distinctive syllable <strong class="ba-highlight">-ba-</strong> onto which are attached the basic person endings we met in Chapter One.
                        </p>

                        <div style="background: #fef3c7; border: 2px solid #f59e0b; border-radius: 12px; padding: 1.5rem; margin: 1.5rem 0;">
                            <div style="text-align: center; margin-bottom: 1rem;">
                                <div style="font-size: 1.1rem; font-weight: 600; color: #92400e;">
                                    The distinctive imperfect marker
                                </div>
                                <div style="font-size: 2rem; font-weight: 700; color: #c2410c; margin: 0.5rem 0;">
                                    -ba-
                                </div>
                                <div style="font-size: 0.9rem; color: #78350f;">
                                    If you see -ba- in a verb, it's imperfect tense!
                                </div>
                            </div>
                        </div>

                        <div class="endings-table">
                            <div class="endings-row header">
                                <div class="endings-cell"></div>
                                <div class="endings-cell">Ending</div>
                                <div class="endings-cell">Meaning</div>
                            </div>
                            <div class="endings-row reveal-row" data-reveal-row="sg1">
                                <div class="endings-cell">sg 1</div>
                                <div class="endings-cell latin">-bam</div>
                                <div class="endings-cell">I was X-ing</div>
                            </div>
                            <div class="endings-row reveal-row" data-reveal-row="sg2">
                                <div class="endings-cell">2</div>
                                <div class="endings-cell latin">-bƒÅs</div>
                                <div class="endings-cell">you (sg) were X-ing</div>
                            </div>
                            <div class="endings-row reveal-row" data-reveal-row="sg3">
                                <div class="endings-cell">3</div>
                                <div class="endings-cell latin">-bat</div>
                                <div class="endings-cell">he/she/it was X-ing</div>
                            </div>
                            <div class="endings-row reveal-row" data-reveal-row="pl1">
                                <div class="endings-cell">pl 1</div>
                                <div class="endings-cell latin">-bƒÅmus</div>
                                <div class="endings-cell">we were X-ing</div>
                            </div>
                            <div class="endings-row reveal-row" data-reveal-row="pl2">
                                <div class="endings-cell">2</div>
                                <div class="endings-cell latin">-bƒÅtis</div>
                                <div class="endings-cell">you (pl) were X-ing</div>
                            </div>
                            <div class="endings-row reveal-row" data-reveal-row="pl3">
                                <div class="endings-cell">3</div>
                                <div class="endings-cell latin">-bant</div>
                                <div class="endings-cell">they were X-ing</div>
                            </div>
                        </div>

                        <div style="text-align: center; margin-top: 1rem;">
                            <button class="nav-btn" id="revealAllEndings" style="display: inline-block;">Click to reveal all endings</button>
                        </div>

                        <div class="key-point">
                            <div class="key-point-title">Note!</div>
                            <div class="key-point-text">
                                The first person singular uses <strong>-m</strong> rather than <strong>-≈ç</strong> as the basic person ending. This is the only difference from the present tense person endings.
                            </div>
                        </div>
                    </div>

                    <div class="nav-buttons">
                        <button class="nav-btn" data-goto="intro">‚Üê Previous</button>
                        <button class="nav-btn primary" data-goto="formation">Next: Forming the Imperfect ‚Üí</button>
                    </div>
                </div>

                <div class="section-content" id="formation">
                    <div class="card">
                        <h2 style="font-size: 1.5rem; font-weight: 600; color: #1f2937; margin-bottom: 1.5rem;">
                            How to Form the Imperfect Tense
                        </h2>

                        <p class="explanation-text">
                            The imperfect endings are attached to the verb stem, with the <strong>characteristic vowel</strong> for the conjugation inserted in between.
                        </p>

                        <div class="key-point">
                            <div class="key-point-title">Special note: 4th conjugation</div>
                            <div class="key-point-text">
                                The 4th conjugation uses <strong>-ie-</strong>, not just <strong>-i-</strong> as it does in the present tense and the infinitive.
                            </div>
                        </div>

                        <div class="full-conjugation-table">
                            <div class="conj-header-row">
                                <div></div>
                                <div style="color: #ec4899;">1st<br/>port≈ç</div>
                                <div style="color: #3b82f6;">2nd<br/>mone≈ç</div>
                                <div style="color: #a855f7;">3rd<br/>trah≈ç</div>
                                <div style="color: #10b981;">4th<br/>audi≈ç</div>
                            </div>
                            <div style="padding: 0.75rem; background: #f9fafb; text-align: center; font-weight: 600; color: #6b7280; font-size: 0.85rem; border-bottom: 1px solid #e5e7eb;">
                                infinitive
                            </div>
                            <div style="padding: 0.75rem; text-align: center; border-bottom: 2px solid #e5e7eb;">
                                <div style="display: grid; grid-template-columns: 100px repeat(4, 1fr); gap: 0.5rem;">
                                    <div></div>
                                    <div class="conj-verb first">portƒÅre</div>
                                    <div class="conj-verb second">monƒìre</div>
                                    <div class="conj-verb third">trahere</div>
                                    <div class="conj-verb fourth">audƒ´re</div>
                                </div>
                            </div>
                            <div class="conj-row">
                                <div class="conj-person">sg 1</div>
                                <div class="conj-verb first">porta<span class="ba-highlight">bam</span></div>
                                <div class="conj-verb second">monƒì<span class="ba-highlight">bam</span></div>
                                <div class="conj-verb third">trahƒì<span class="ba-highlight">bam</span></div>
                                <div class="conj-verb fourth">audiƒì<span class="ba-highlight">bam</span></div>
                            </div>
                            <div class="conj-row">
                                <div class="conj-person">2</div>
                                <div class="conj-verb first">porta<span class="ba-highlight">bƒÅs</span></div>
                                <div class="conj-verb second">monƒì<span class="ba-highlight">bƒÅs</span></div>
                                <div class="conj-verb third">trahƒì<span class="ba-highlight">bƒÅs</span></div>
                                <div class="conj-verb fourth">audiƒì<span class="ba-highlight">bƒÅs</span></div>
                            </div>
                            <div class="conj-row">
                                <div class="conj-person">3</div>
                                <div class="conj-verb first">porta<span class="ba-highlight">bat</span></div>
                                <div class="conj-verb second">monƒì<span class="ba-highlight">bat</span></div>
                                <div class="conj-verb third">trahƒì<span class="ba-highlight">bat</span></div>
                                <div class="conj-verb fourth">audiƒì<span class="ba-highlight">bat</span></div>
                            </div>
                            <div class="conj-row plural-start">
                                <div class="conj-person">pl 1</div>
                                <div class="conj-verb first">porta<span class="ba-highlight">bƒÅmus</span></div>
                                <div class="conj-verb second">monƒì<span class="ba-highlight">bƒÅmus</span></div>
                                <div class="conj-verb third">trahƒì<span class="ba-highlight">bƒÅmus</span></div>
                                <div class="conj-verb fourth">audiƒì<span class="ba-highlight">bƒÅmus</span></div>
                            </div>
                            <div class="conj-row">
                                <div class="conj-person">2</div>
                                <div class="conj-verb first">porta<span class="ba-highlight">bƒÅtis</span></div>
                                <div class="conj-verb second">monƒì<span class="ba-highlight">bƒÅtis</span></div>
                                <div class="conj-verb third">trahƒì<span class="ba-highlight">bƒÅtis</span></div>
                                <div class="conj-verb fourth">audiƒì<span class="ba-highlight">bƒÅtis</span></div>
                            </div>
                            <div class="conj-row">
                                <div class="conj-person">3</div>
                                <div class="conj-verb first">porta<span class="ba-highlight">bant</span></div>
                                <div class="conj-verb second">monƒì<span class="ba-highlight">bant</span></div>
                                <div class="conj-verb third">trahƒì<span class="ba-highlight">bant</span></div>
                                <div class="conj-verb fourth">audiƒì<span class="ba-highlight">bant</span></div>
                            </div>
                        </div>

                        <div class="pattern-box">
                            <div style="font-size: 1.1rem; font-weight: 600; color: #92400e; margin-bottom: 0.5rem;">
                                The pattern
                            </div>
                            <div class="pattern-formula">stem + characteristic vowel + ba + person ending</div>
                            <div class="pattern-example">porta + ba + m = portƒÅbam</div>
                        </div>
                    </div>

                    <div class="nav-buttons">
                        <button class="nav-btn" data-goto="endings">‚Üê Previous</button>
                        <button class="nav-btn primary" data-goto="translations">Next: Translation Options ‚Üí</button>
                    </div>
                </div>

                <div class="section-content" id="translations">
                    <div class="card">
                        <h2 style="font-size: 1.5rem; font-weight: 600; color: #1f2937; margin-bottom: 1.5rem;">
                            Translating the Imperfect Tense
                        </h2>

                        <p class="explanation-text">
                            The imperfect tense has three main translation options. You need to choose the best one depending on the context.
                        </p>

                        <div style="background: #f0fdf4; border: 2px solid #10b981; border-radius: 12px; padding: 1.5rem; margin: 1.5rem 0;">
                            <h4 style="font-weight: 600; color: #065f46; margin-bottom: 1rem; text-align: center;">Three ways to translate portƒÅbam:</h4>
                            
                            <div class="reveal-box toggle-box" data-toggle="trans1" style="background: white; margin-bottom: 1rem;">
                                <div class="reveal-prompt">1Ô∏è‚É£ Click to reveal: was/were X-ing (basic meaning)</div>
                                <div class="reveal-content">
                                    <div style="background: white; border-radius: 8px; padding: 1rem;">
                                        <div class="translation-type">1. was/were X-ing (basic meaning)</div>
                                        <div class="translation-text">I was carrying</div>
                                        <div class="translation-note">Use this most of the time ‚Äî it emphasises the ongoing nature of the action</div>
                                    </div>
                                </div>
                            </div>

                            <div class="reveal-box toggle-box" data-toggle="trans2" style="background: white; margin-bottom: 1rem;">
                                <div class="reveal-prompt">2Ô∏è‚É£ Click to reveal: simple past (X-ed)</div>
                                <div class="reveal-content">
                                    <div style="background: white; border-radius: 8px; padding: 1rem;">
                                        <div class="translation-type">2. simple past (X-ed)</div>
                                        <div class="translation-text">I carried</div>
                                        <div class="translation-note">Some verbs (e.g. habe≈ç, am≈ç) sound odd with "was/were", so use the simple past</div>
                                    </div>
                                </div>
                            </div>

                            <div class="reveal-box toggle-box" data-toggle="trans3" style="background: white;">
                                <div class="reveal-prompt">3Ô∏è‚É£ Click to reveal: used to X</div>
                                <div class="reveal-content">
                                    <div style="background: white; border-radius: 8px; padding: 1rem;">
                                        <div class="translation-type">3. used to X</div>
                                        <div class="translation-text">I used to carry</div>
                                        <div class="translation-note">When there's a contrast between past and present, or when describing habitual actions</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="example-box">
                            <div class="example-label">Example with habe≈ç:</div>
                            <div class="latin-example" style="font-size: 1.5rem;">
                                villam R≈çmae habƒìbam
                            </div>
                            <div class="reveal-box toggle-box" data-toggle="habeo-trans" style="margin-top: 1rem; margin-bottom: 0;">
                                <div class="reveal-prompt">üí° Click to see the translation</div>
                                <div class="reveal-content">
                                    <div style="font-size: 1.1rem; color: #4b5563; margin-top: 1rem;">
                                        I had a house in Rome
                                    </div>
                                    <div style="font-size: 0.9rem; color: #6b7280; margin-top: 0.5rem; font-style: italic;">
                                        (not "I was having" ‚Äî that sounds odd!)
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="example-box">
                            <div class="example-label">Example with "used to":</div>
                            <div class="latin-example" style="font-size: 1.4rem;">
                                cibum parƒÅbam; nunc epistulƒÅs dominƒ´ scrƒ´b≈ç
                            </div>
                            <div class="reveal-box toggle-box" data-toggle="usedto-trans" style="margin-top: 1rem; margin-bottom: 0;">
                                <div class="reveal-prompt">üí° Click to see the translation</div>
                                <div class="reveal-content">
                                    <div style="font-size: 1.1rem; color: #4b5563; margin-top: 1rem;">
                                        I used to prepare the food; now I write the master's letters
                                    </div>
                                    <div style="font-size: 0.9rem; color: #6b7280; margin-top: 0.5rem; font-style: italic;">
                                        The contrast with "now" makes "used to" the best translation
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="reveal-box toggle-box" data-toggle="time-how-long">
                            <div class="reveal-prompt">‚è±Ô∏è Time how long expressions</div>
                            <div class="reveal-content">
                                <p style="font-size: 1.05rem; line-height: 1.7; color: #4b5563; margin-bottom: 1rem;">
                                    An imperfect tense verb is often accompanied by a <strong>time how long</strong> expression, telling us the duration of the action.
                                </p>
                                <div class="example-box">
                                    <div class="latin-example" style="font-size: 1.4rem;">
                                        quƒ´nque ann≈çs R≈çmae lab≈çrƒÅbƒÅmus
                                    </div>
                                    <div style="font-size: 1.1rem; color: #4b5563; margin-top: 1rem;">
                                        We were working in Rome for five years
                                    </div>
                                    <div style="font-size: 0.9rem; color: #6b7280; margin-top: 0.5rem;">
                                        <em>or</em> We worked in Rome for five years
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="nav-buttons">
                        <button class="nav-btn" data-goto="formation">‚Üê Previous</button>
                        <button class="nav-btn primary" data-goto="practice">Next: Practice ‚Üí</button>
                    </div>
                </div>

                <div class="section-content" id="practice">
                    <div class="card">
                        <div class="exercise-section">
                            <div class="exercise-title">Exercise 3.1: Translate into English</div>
                            <p class="explanation-text">Click each verb to reveal the translation.</p>
                            
                            <div class="exercise-item" data-answer="e1">
                                <div class="exercise-question">1. iubƒìbƒÅmus</div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">we were ordering</div>
                            </div>

                            <div class="exercise-item" data-answer="e2">
                                <div class="exercise-question">2. sal≈´tƒÅbam</div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">I was greeting</div>
                            </div>

                            <div class="exercise-item" data-answer="e3">
                                <div class="exercise-question">3. mittƒìbƒÅtis</div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">you (pl) were sending</div>
                            </div>

                            <div class="exercise-item" data-answer="e4">
                                <div class="exercise-question">4. veniƒìbat</div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">he/she/it was coming</div>
                            </div>

                            <div class="exercise-item" data-answer="e5">
                                <div class="exercise-question">5. scribƒìbƒÅs</div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">you (sg) were writing</div>
                            </div>

                            <div class="exercise-item" data-answer="e6">
                                <div class="exercise-question">6. dabant</div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">they were giving</div>
                            </div>

                            <div class="exercise-item" data-answer="e7">
                                <div class="exercise-question">7. puniƒìbam</div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">I was punishing</div>
                            </div>

                            <div class="exercise-item" data-answer="e8">
                                <div class="exercise-question">8. bibƒìbƒÅmus</div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">we were drinking</div>
                            </div>

                            <div class="exercise-item" data-answer="e9">
                                <div class="exercise-question">9. clƒÅmƒÅbƒÅs</div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">you (sg) were shouting</div>
                            </div>

                            <div class="exercise-item" data-answer="e10">
                                <div class="exercise-question">10. terrƒìbat</div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">he/she/it was frightening</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="exercise-section">
                            <div class="exercise-title">Exercise 3.4: Translate into English</div>
                            <p class="explanation-text">Click each sentence to reveal the translation.</p>
                            
                            <div class="exercise-item" data-answer="s1">
                                <div class="exercise-question">
                                    1. virƒ´ equum ex hort≈ç trahƒìbant.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    The men were dragging the horse out of the garden.
                                </div>
                            </div>

                            <div class="exercise-item" data-answer="s2">
                                <div class="exercise-question">
                                    2. ancilla amƒ´c≈çs per agr≈çs d≈´cƒìbat.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    The slave-girl was leading her friends through the fields.
                                </div>
                            </div>

                            <div class="exercise-item" data-answer="s3">
                                <div class="exercise-question">
                                    3. deƒ´ et deae pugnƒÅbant.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    The gods and goddesses were fighting.
                                </div>
                            </div>

                            <div class="exercise-item" data-answer="s4">
                                <div class="exercise-question">
                                    4. amƒ´c≈çs dƒì perƒ´culƒ´s bellƒ´ monƒìbƒÅtis.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    You (pl) were warning your friends about the dangers of war.
                                </div>
                            </div>

                            <div class="exercise-item" data-answer="s5">
                                <div class="exercise-question">
                                    5. puerƒ´ in templ≈ç dormiƒìbant.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    The boys were sleeping in the temple.
                                </div>
                            </div>

                            <div class="exercise-item" data-answer="s6">
                                <div class="exercise-question">
                                    6. fƒìmina iubƒìbat ancillƒÅs in hort≈ç lab≈çrƒÅre.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    The woman was ordering the slave-girls to work in the garden.
                                </div>
                            </div>

                            <div class="exercise-item" data-answer="s7">
                                <div class="exercise-question">
                                    7. pec≈´niam gladiƒ´s cust≈çdiƒìbƒÅmus.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    We were guarding the money with swords.
                                </div>
                            </div>

                            <div class="exercise-item" data-answer="s8">
                                <div class="exercise-question">
                                    8. puella equ≈çs timƒìbat.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    The girl was afraid of horses. <em>(or: The girl feared horses.)</em>
                                </div>
                            </div>

                            <div class="exercise-item" data-answer="s9">
                                <div class="exercise-question">
                                    9. n≈´ntiƒ´ in templ≈ç deae sedƒìbant.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    The messengers were sitting in the temple of the goddess.
                                </div>
                            </div>

                            <div class="exercise-item" data-answer="s10">
                                <div class="exercise-question">
                                    10. librum dƒì bell≈ç scribƒìbam.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    I was writing a book about the war.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="exercise-section">
                            <div class="exercise-title">Exercise 3.6: Translate into Latin</div>
                            <p class="explanation-text">Click each sentence to reveal the Latin.</p>
                            
                            <div class="exercise-item" data-answer="l1">
                                <div class="exercise-question">
                                    1. The master was sleeping in the house.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    dominus in villƒÅ dormiƒìbat.
                                </div>
                            </div>

                            <div class="exercise-item" data-answer="l2">
                                <div class="exercise-question">
                                    2. Men were walking to the walls of the temple.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    virƒ´ ad m≈´r≈çs templƒ´ ambulƒÅbant.
                                </div>
                            </div>

                            <div class="exercise-item" data-answer="l3">
                                <div class="exercise-question">
                                    3. We were dragging our friend out of the inn.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    amƒ´cum ƒì tabernƒÅ trahƒìbƒÅmus.
                                </div>
                            </div>

                            <div class="exercise-item" data-answer="l4">
                                <div class="exercise-question">
                                    4. I used to sail to the islands.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    ad ƒ´nsulƒÅs nƒÅvigƒÅbam.
                                </div>
                            </div>

                            <div class="exercise-item" data-answer="l5">
                                <div class="exercise-question">
                                    5. You (sg) had a shop in Rome for ten years.
                                </div>
                                <div class="exercise-write-space"></div>
                                <div class="exercise-answer">
                                    decem ann≈çs tabernam R≈çmae habƒìbƒÅs.
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="nav-buttons">
                        <button class="nav-btn" data-goto="translations">‚Üê Previous</button>
                        <button class="nav-btn" disabled>Next ‚Üí</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Page loaded');
            
            const navItems = document.querySelectorAll('.nav-item');
            console.log('Nav items found:', navItems.length);
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    const sectionId = this.getAttribute('data-section');
                    console.log('Clicked nav item:', sectionId);
                    showSection(sectionId);
                });
            });

            const navButtons = document.querySelectorAll('.nav-btn[data-goto]');
            console.log('Nav buttons found:', navButtons.length);
            navButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const sectionId = this.getAttribute('data-goto');
                    console.log('Clicked nav button:', sectionId);
                    showSection(sectionId);
                });
            });

            const highlightWords = document.querySelectorAll('[data-reveal]');
            highlightWords.forEach(word => {
                word.addEventListener('click', function() {
                    const type = this.getAttribute('data-reveal');
                    const breakdown = document.querySelector('[data-breakdown="' + type + '"]');
                    if (breakdown) {
                        breakdown.classList.add('revealed');
                    }
                });
            });

            const toggleBoxes = document.querySelectorAll('.toggle-box');
            toggleBoxes.forEach(box => {
                box.addEventListener('click', function() {
                    const prompt = this.querySelector('.reveal-prompt');
                    const content = this.querySelector('.reveal-content');
                    
                    if (this.classList.contains('revealed')) {
                        prompt.classList.remove('hidden');
                        content.classList.remove('visible');
                        this.classList.remove('revealed');
                    } else {
                        prompt.classList.add('hidden');
                        content.classList.add('visible');
                        this.classList.add('revealed');
                    }
                });
            });

            // Click-to-reveal for table rows
            const revealRows = document.querySelectorAll('.reveal-row');
            revealRows.forEach(row => {
                row.addEventListener('click', function() {
                    this.classList.add('revealed');
                });
            });

            // Reveal all endings button
            const revealAllBtn = document.getElementById('revealAllEndings');
            if (revealAllBtn) {
                revealAllBtn.addEventListener('click', function() {
                    revealRows.forEach(row => {
                        row.classList.add('revealed');
                    });
                });
            }

            const exerciseItems = document.querySelectorAll('.exercise-item');
            exerciseItems.forEach(item => {
                item.addEventListener('click', function() {
                    if (!this.classList.contains('revealed')) {
                        const answer = this.querySelector('.exercise-answer');
                        answer.classList.add('visible');
                        this.classList.add('revealed');
                    }
                });
            });
        });

        function showSection(sectionId) {
            console.log('Showing section:', sectionId);
            document.querySelectorAll('.section-content').forEach(section => {
                section.classList.remove('active');
            });
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-section') === sectionId) {
                    item.classList.add('active');
                }
            });
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>
</html>
