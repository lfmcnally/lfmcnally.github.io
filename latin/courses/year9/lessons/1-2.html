<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1.2 Present Tense Verbs - Classicalia</title>
    <link rel="stylesheet" href="../../../../shared/styles.css">
    <style>
        .lesson-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem 20px;
        }

        .lesson-header {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            padding: 3rem 2rem;
            border-radius: 16px;
            text-align: center;
            margin-bottom: 3rem;
            box-shadow: 0 4px 16px rgba(0, 123, 255, 0.3);
        }

        .lesson-number {
            background: rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 1rem;
        }

        .lesson-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .lesson-subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        /* Grammar sections with better visual hierarchy */
        .grammar-section {
            background: white;
            border-radius: 12px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            border-left: 4px solid #007bff;
        }

        .grammar-section:nth-child(even) {
            border-left-color: #28a745;
        }

        .section-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 1.5rem;
            text-align: center;
            position: relative;
            padding-bottom: 1rem;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, #007bff, #28a745);
            border-radius: 2px;
        }

        /* Person Endings Table */
        .endings-table {
            max-width: 500px;
            margin: 0 auto 2rem;
        }

        .endings-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2px;
            background: #007bff;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.15);
        }

        .ending-cell {
            background: white;
            padding: 1.5rem;
            text-align: center;
            font-size: 1.1rem;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .ending-cell.header {
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            font-weight: 700;
            color: white;
            font-size: 1.1rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .ending-cell.clickable {
            background: #f8f9fa;
            position: relative;
        }

        .ending-cell.clickable::before {
            content: "Click to reveal";
            position: absolute;
            color: #adb5bd;
            font-size: 0.85rem;
            font-style: italic;
        }

        .ending-cell.clickable:hover {
            background: #e7f3ff;
            transform: scale(1.02);
        }

        .ending-cell.revealed {
            background: white;
        }

        .ending-cell.revealed::before {
            display: none;
        }

        @keyframes revealPop {
            0% {
                transform: scale(0.8);
                opacity: 0;
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
                opacity: 1;
            }
        }

        .latin-ending {
            font-size: 1.8rem;
            font-weight: 700;
            color: #007bff;
            animation: revealPop 0.4s ease;
            display: block;
        }

        .english-meaning {
            color: #333;
            font-size: 1.4rem;
            font-weight: 600;
            animation: revealPop 0.4s ease;
            display: block;
        }

        /* Reveal All Button */
        .reveal-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            display: block;
            margin: 2rem auto;
            transition: all 0.3s ease;
        }

        .reveal-btn:hover {
            background: #0056b3;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.3);
        }

        /* Interesting Note Box */
        .note-box {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            border-radius: 8px;
            padding: 1rem 1.5rem;
            margin: 2rem auto;
            max-width: 700px;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
        }

        .note-box:hover {
            transform: translateX(4px);
            box-shadow: 0 2px 8px rgba(255, 193, 7, 0.3);
        }

        .note-header {
            font-weight: 700;
            color: #856404;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .note-content {
            color: #856404;
            line-height: 1.6;
            display: none;
        }

        .note-box.expanded .note-content {
            display: block;
            animation: slideDown 0.3s ease;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .note-hint {
            position: absolute;
            right: 1rem;
            top: 1rem;
            font-size: 0.75rem;
            color: #856404;
            opacity: 0.6;
            font-style: italic;
        }

        .note-box.expanded .note-hint {
            display: none;
        }

        /* Verb Builder */
        .verb-builder {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .builder-title {
            text-align: center;
            font-size: 1.5rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 2rem;
        }

        .formula-display {
            display: flex;
            justify-content: center;
            align-items: stretch;
            gap: 1rem;
            font-size: 2rem;
            margin-bottom: 2rem;
            min-height: 100px;
        }

        .formula-part {
            padding: 1.5rem 2rem;
            border-radius: 8px;
            font-weight: 700;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .formula-stem {
            background: #333;
            color: white;
        }

        .formula-vowel {
            background: #dc3545;
            color: white;
        }

        .formula-ending {
            background: #007bff;
            color: white;
        }

        .formula-equals {
            color: #666;
            font-weight: 400;
            display: flex;
            align-items: center;
        }

        .formula-result {
            background: #28a745;
            color: white;
            padding: 1.5rem 2.5rem;
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-width: 200px;
        }

        /* Ending Selector */
        .ending-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            max-width: 600px;
            margin: 0 auto;
        }

        .ending-option {
            background: white;
            border: 2px solid #dee2e6;
            padding: 1rem;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
        }

        .ending-option:hover {
            border-color: #007bff;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 123, 255, 0.2);
        }

        .ending-option.selected {
            background: #007bff;
            color: white;
            border-color: #007bff;
        }

        .ending-latin {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .ending-english {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* Porto Paradigm */
        .paradigm-container {
            max-width: 700px;
            margin: 2rem auto;
        }

        .paradigm-grid {
            display: grid;
            grid-template-columns: 100px 200px 1fr;
            gap: 2px;
            background: #28a745;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.15);
        }

        .paradigm-cell {
            background: white;
            padding: 1.5rem 1rem;
            text-align: center;
            font-size: 1.1rem;
            position: relative;
            min-height: 70px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .paradigm-cell.header {
            background: linear-gradient(135deg, #28a745 0%, #1e7e34 100%);
            font-weight: 700;
            color: white;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .paradigm-cell.person-label {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
        }

        .paradigm-cell.clickable {
            cursor: pointer;
            background: #f8f9fa;
            transition: all 0.3s ease;
        }

        .paradigm-cell.clickable::before {
            content: "Click to reveal";
            position: absolute;
            color: #adb5bd;
            font-size: 0.85rem;
            font-style: italic;
        }

        .paradigm-cell.clickable:hover {
            background: #e8f5e9;
            transform: scale(1.02);
        }

        .paradigm-cell.revealed {
            background: white;
        }

        .paradigm-cell.revealed::before {
            display: none;
        }

        .latin-form {
            font-size: 1.5rem;
            font-weight: 700;
            color: #28a745;
            animation: revealPop 0.4s ease;
            display: block;
        }

        .english-form {
            font-size: 1.15rem;
            color: #333;
            font-weight: 500;
            animation: revealPop 0.4s ease;
            display: block;
            line-height: 1.3;
        }

        /* Practice Section with better styling */
        .practice-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 12px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .exercise-box {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid #ffc107;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
        }

        .exercise-box:hover {
            transform: translateX(4px);
        }

        .exercise-title {
            font-weight: 700;
            color: #333;
            margin-bottom: 1rem;
            font-size: 1.2rem;
        }

        .exercise-instruction {
            color: #666;
            margin-bottom: 1rem;
            font-style: italic;
        }

        /* Navigation */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .endings-grid,
            .paradigm-grid {
                grid-template-columns: 1fr;
            }
            
            .ending-selector {
                grid-template-columns: 1fr;
            }

            .formula-display {
                flex-direction: column;
                gap: 0.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Global Info Button -->
    <button onclick="showInfoModal()" class="global-info-btn">ℹ️</button>

    <header class="header">
        <div class="header-content">
            <div class="logo">
                <a href="../../../../index.html" style="text-decoration: none; color: inherit;">Classicalia</a>
            </div>
            <div class="author">by Lawrence McNally</div>
            <div class="subtitle">Year 9 Latin • Lesson 1.2</div>
            
            <div class="page-nav">
                <a href="../../../../index.html" class="nav-link">← Home</a>
                <a href="../../index.html" class="nav-link">← All Courses</a>
                <a href="../index.html" class="nav-link">← Year 9 Latin</a>
            </div>
        </div>
    </header>

    <main>
        <div class="lesson-container">
            <!-- Lesson Header -->
            <div class="lesson-header">
                <span class="lesson-number">Lesson 1.2</span>
                <h1 class="lesson-title">Present Tense Verbs</h1>
                <p class="lesson-subtitle">Learn how Latin verbs change their endings to show who's doing the action</p>
            </div>

            <!-- Person Endings Section -->
            <div class="grammar-section">
                <h2 class="section-title">The Magic of Person Endings</h2>
                <p style="text-align: center; color: #666; margin-bottom: 1rem;">
                    Latin only needs ONE word where English needs two or three!
                </p>
                <p style="max-width: 700px; margin: 0 auto 2rem; line-height: 1.6; color: #495057;">
                    In English, we say "I carry", "you carry", "they carry" - we need separate words to show who's doing the action. 
                    But Latin is much more efficient! It changes the ending of the verb to tell us everything we need to know. 
                    These endings are the key to understanding every Latin verb you'll ever meet.
                </p>
                <p style="text-align: center; color: #666; margin-bottom: 2rem; font-style: italic;">
                    Click each box to reveal the person endings - memorise these, they're used everywhere!
                </p>
                
                <div class="endings-table">
                    <div class="endings-grid">
                        <!-- Headers -->
                        <div class="ending-cell header">Latin Ending</div>
                        <div class="ending-cell header">English Meaning</div>
                        
                        <!-- Singular -->
                        <div class="ending-cell clickable" onclick="revealEnding(this, '-o', null)">
                            <span class="latin-ending"></span>
                        </div>
                        <div class="ending-cell clickable" onclick="revealEnding(this, null, 'I')">
                            <span class="english-meaning"></span>
                        </div>
                        
                        <div class="ending-cell clickable" onclick="revealEnding(this, '-s', null)">
                            <span class="latin-ending"></span>
                        </div>
                        <div class="ending-cell clickable" onclick="revealEnding(this, null, 'you (singular)')">
                            <span class="english-meaning"></span>
                        </div>
                        
                        <div class="ending-cell clickable" onclick="revealEnding(this, '-t', null)">
                            <span class="latin-ending"></span>
                        </div>
                        <div class="ending-cell clickable" onclick="revealEnding(this, null, 'he / she / it')">
                            <span class="english-meaning"></span>
                        </div>
                        
                        <!-- Plural -->
                        <div class="ending-cell clickable" onclick="revealEnding(this, '-mus', null)">
                            <span class="latin-ending"></span>
                        </div>
                        <div class="ending-cell clickable" onclick="revealEnding(this, null, 'we')">
                            <span class="english-meaning"></span>
                        </div>
                        
                        <div class="ending-cell clickable" onclick="revealEnding(this, '-tis', null)">
                            <span class="latin-ending"></span>
                        </div>
                        <div class="ending-cell clickable" onclick="revealEnding(this, null, 'you (plural)')">
                            <span class="english-meaning"></span>
                        </div>
                        
                        <div class="ending-cell clickable" onclick="revealEnding(this, '-nt', null)">
                            <span class="latin-ending"></span>
                        </div>
                        <div class="ending-cell clickable" onclick="revealEnding(this, null, 'they')">
                            <span class="english-meaning"></span>
                        </div>
                    </div>
                </div>
                
                <button class="reveal-btn" onclick="revealAllEndings()">Reveal All Endings</button>
                
                <!-- Interesting Note -->
                <div class="note-box" onclick="toggleNote(this)">
                    <div class="note-header">
                        💡 Why do the persons go in this order?
                    </div>
                    <span class="note-hint">Click to discover</span>
                    <div class="note-content">
                        There's a logical pattern! The persons start with 'I' (the speaker) and move outward:
                        <br><br>
                        <strong>1st person:</strong> I/we - the speaker(s)<br>
                        <strong>2nd person:</strong> you - the person I'm talking TO<br>
                        <strong>3rd person:</strong> he/she/they - the person I'm talking ABOUT<br>
                        <br>
                        It's like ripples in water - starting from me and moving further away!
                    </div>
                </div>
            </div>

            <!-- Verb Builder Section -->
            <div class="grammar-section">
                <h2 class="section-title">Building a Latin Verb: porto (I carry)</h2>
                
                <p style="max-width: 700px; margin: 0 auto 2rem; line-height: 1.6; color: #495057;">
                    Now let's see how Latin builds its verbs. Every Latin verb has three parts: a STEM (the meaning), 
                    sometimes a VOWEL (usually 'a' for first conjugation verbs), and an ENDING (who's doing it). 
                    Watch how these pieces fit together like building blocks!
                </p>
                
                <div class="verb-builder">
                    <div class="builder-title">Click an ending below to see the magic happen!</div>
                    
                    <div class="formula-display" id="formulaDisplay">
                        <span class="formula-part formula-stem">port</span>
                        <span class="formula-equals">+</span>
                        <span class="formula-part formula-vowel" id="vowelPart" style="display: none;">a</span>
                        <span class="formula-equals" id="plusSign" style="display: none;">+</span>
                        <span class="formula-part formula-ending" id="endingPart" style="display: none;">?</span>
                        <span class="formula-equals" id="equalsSign" style="display: none;">=</span>
                        <span class="formula-result" id="resultPart" style="display: none;">?</span>
                    </div>
                    
                    <div class="ending-selector">
                        <div class="ending-option" onclick="buildVerb('-o', 'porto', 'I carry', false)">
                            <div class="ending-latin">-o</div>
                            <div class="ending-english">I</div>
                        </div>
                        <div class="ending-option" onclick="buildVerb('-s', 'portas', 'you carry', true)">
                            <div class="ending-latin">-s</div>
                            <div class="ending-english">you (sg)</div>
                        </div>
                        <div class="ending-option" onclick="buildVerb('-t', 'portat', 'he/she carries', true)">
                            <div class="ending-latin">-t</div>
                            <div class="ending-english">he/she/it</div>
                        </div>
                        <div class="ending-option" onclick="buildVerb('-mus', 'portamus', 'we carry', true)">
                            <div class="ending-latin">-mus</div>
                            <div class="ending-english">we</div>
                        </div>
                        <div class="ending-option" onclick="buildVerb('-tis', 'portatis', 'you (pl) carry', true)">
                            <div class="ending-latin">-tis</div>
                            <div class="ending-english">you (pl)</div>
                        </div>
                        <div class="ending-option" onclick="buildVerb('-nt', 'portant', 'they carry', true)">
                            <div class="ending-latin">-nt</div>
                            <div class="ending-english">they</div>
                        </div>
                    </div>
                </div>
                
                <!-- Note about -o -->
                <div class="note-box" onclick="toggleNote(this)">
                    <div class="note-header">
                        🤔 Why doesn't porto have an 'a' before the -o?
                    </div>
                    <span class="note-hint">Click to find out</span>
                    <div class="note-content">
                        Originally, it DID! The verb used to be 'portao', but over time, Latin speakers found it easier to say 'porto'. The 'a' disappeared through regular use - just like how we say "don't" instead of "do not" in English. Languages naturally evolve to be easier to pronounce!
                    </div>
                </div>
            </div>

            <!-- Complete Paradigm -->
            <div class="grammar-section">
                <h2 class="section-title">The Complete Pattern: porto</h2>
                <p style="max-width: 700px; margin: 0 auto 1rem; line-height: 1.6; color: #495057;">
                    Here's the complete conjugation of porto in the present tense. This pattern is called the 
                    "first conjugation" - hundreds of Latin verbs follow this exact same pattern! Once you learn 
                    this, you can conjugate verbs like amo (love), laboro (work), and many more.
                </p>
                <p style="text-align: center; color: #666; margin-bottom: 2rem; font-style: italic;">
                    Click each form to reveal it. Notice how the stem 'port-' never changes!
                </p>
                
                <div class="paradigm-container">
                    <div class="paradigm-grid">
                        <!-- Headers -->
                        <div class="paradigm-cell header">Person</div>
                        <div class="paradigm-cell header">Latin</div>
                        <div class="paradigm-cell header">English</div>
                        
                        <!-- Forms -->
                        <div class="paradigm-cell person-label">sg 1</div>
                        <div class="paradigm-cell clickable" onclick="revealParadigm(this, 'porto', null)">
                            <span class="latin-form"></span>
                        </div>
                        <div class="paradigm-cell clickable" onclick="revealParadigm(this, null, 'I carry / I am carrying')">
                            <span class="english-form"></span>
                        </div>
                        
                        <div class="paradigm-cell person-label">sg 2</div>
                        <div class="paradigm-cell clickable" onclick="revealParadigm(this, 'portas', null)">
                            <span class="latin-form"></span>
                        </div>
                        <div class="paradigm-cell clickable" onclick="revealParadigm(this, null, 'you carry / you are carrying')">
                            <span class="english-form"></span>
                        </div>
                        
                        <div class="paradigm-cell person-label">sg 3</div>
                        <div class="paradigm-cell clickable" onclick="revealParadigm(this, 'portat', null)">
                            <span class="latin-form"></span>
                        </div>
                        <div class="paradigm-cell clickable" onclick="revealParadigm(this, null, 'he/she/it carries / is carrying')">
                            <span class="english-form"></span>
                        </div>
                        
                        <div class="paradigm-cell person-label">pl 1</div>
                        <div class="paradigm-cell clickable" onclick="revealParadigm(this, 'portamus', null)">
                            <span class="latin-form"></span>
                        </div>
                        <div class="paradigm-cell clickable" onclick="revealParadigm(this, null, 'we carry / we are carrying')">
                            <span class="english-form"></span>
                        </div>
                        
                        <div class="paradigm-cell person-label">pl 2</div>
                        <div class="paradigm-cell clickable" onclick="revealParadigm(this, 'portatis', null)">
                            <span class="latin-form"></span>
                        </div>
                        <div class="paradigm-cell clickable" onclick="revealParadigm(this, null, 'you carry / you are carrying')">
                            <span class="english-form"></span>
                        </div>
                        
                        <div class="paradigm-cell person-label">pl 3</div>
                        <div class="paradigm-cell clickable" onclick="revealParadigm(this, 'portant', null)">
                            <span class="latin-form"></span>
                        </div>
                        <div class="paradigm-cell clickable" onclick="revealParadigm(this, null, 'they carry / they are carrying')">
                            <span class="english-form"></span>
                        </div>
                    </div>
                </div>
                
                <button class="reveal-btn" onclick="revealAllParadigm()">Reveal Complete Conjugation</button>
            </div>

            <!-- Practice Section -->
            <div class="practice-section">
                <h2 class="section-title">Time to Practise!</h2>
                
                <div class="exercise-box">
                    <div class="exercise-title">Exercise 1.1: Derivatives</div>
                    <div class="exercise-instruction">
                        Find English words that come from these Latin verbs: navigo, clamo, laboro, ambulo, voco
                    </div>
                </div>
                
                <div class="exercise-box">
                    <div class="exercise-title">Exercise 1.2: Translation</div>
                    <div class="exercise-instruction">
                        Translate these forms into English: salutatis, portamus, parant, necat, ambulas
                    </div>
                </div>
                
                <div class="exercise-box">
                    <div class="exercise-title">Exercise 1.3: Singular ↔ Plural</div>
                    <div class="exercise-instruction">
                        Change these from singular to plural (or vice versa), keeping the same person: vocatis, laboramus, portat, navigo
                    </div>
                </div>
            </div>

            <!-- Navigation -->
            <div class="nav-buttons">
                <a href="1-1.html" class="btn btn-latin-secondary">← Previous: Introduction</a>
                <a href="1-3.html" class="btn btn-latin">Next: Nominative & Accusative →</a>
            </div>
        </div>
    </main>

    <!-- Info Modal -->
    <div id="infoModal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeInfoModal()">&times;</span>
            
            <div class="modal-header">
                <h2>salve! 👋</h2>
            </div>
            
            <div class="modal-body">
                <div class="modal-text">
                    <p>Thank you for checking out Classicalia! I'm Lawrence and I teach Latin and Classics in Bristol.</p>
                </div>
                
                <div class="modal-image">
                    <img src="../../../../images/lmc.jpg" alt="Lawrence McNally">
                </div>
            </div>
        </div>
    </div>

    <script>
        // Reveal individual ending
        function revealEnding(cell, latinText, englishText) {
            cell.classList.remove('clickable');
            cell.classList.add('revealed');
            if (latinText) {
                cell.innerHTML = `<span class="latin-ending">${latinText}</span>`;
            } else {
                cell.innerHTML = `<span class="english-meaning">${englishText}</span>`;
            }
        }

        // Reveal all endings
        function revealAllEndings() {
            const endings = [
                {latin: '-o', english: 'I'},
                {latin: '-s', english: 'you (sg)'},
                {latin: '-t', english: 'he/she/it'},
                {latin: '-mus', english: 'we'},
                {latin: '-tis', english: 'you (pl)'},
                {latin: '-nt', english: 'they'}
            ];
            
            const cells = document.querySelectorAll('.endings-grid .ending-cell.clickable');
            cells.forEach(cell => {
                cell.classList.remove('clickable');
                cell.classList.add('revealed');
            });
            
            // Update content
            let cellIndex = 0;
            cells.forEach((cell, index) => {
                if (index % 2 === 0) {
                    // Latin ending
                    cell.innerHTML = `<span class="latin-ending">${endings[Math.floor(cellIndex/2)].latin}</span>`;
                } else {
                    // English meaning
                    cell.innerHTML = `<span class="english-meaning">${endings[Math.floor(cellIndex/2)].english}</span>`;
                    cellIndex++;
                }
            });
        }

        // Toggle note boxes
        function toggleNote(noteBox) {
            noteBox.classList.toggle('expanded');
        }

        // Build verb formula
        function buildVerb(ending, result, translation, hasVowel) {
            // Clear previous selection
            document.querySelectorAll('.ending-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Mark current as selected
            event.target.closest('.ending-option').classList.add('selected');
            
            // Show formula parts
            const vowelPart = document.getElementById('vowelPart');
            const plusSign = document.getElementById('plusSign');
            const endingPart = document.getElementById('endingPart');
            const equalsSign = document.getElementById('equalsSign');
            const resultPart = document.getElementById('resultPart');
            
            if (hasVowel) {
                vowelPart.style.display = 'inline-block';
                plusSign.style.display = 'inline-block';
            } else {
                vowelPart.style.display = 'none';
                plusSign.style.display = 'none';
            }
            
            endingPart.style.display = 'inline-block';
            endingPart.textContent = ending;
            
            equalsSign.style.display = 'inline-block';
            
            resultPart.style.display = 'inline-block';
            resultPart.innerHTML = `${result}<br><small style="font-size: 0.6em; opacity: 0.9;">${translation}</small>`;
        }

        // Reveal paradigm
        function revealParadigm(cell, latinText, englishText) {
            cell.classList.remove('clickable');
            cell.classList.add('revealed');
            if (latinText) {
                cell.innerHTML = `<span class="latin-form">${latinText}</span>`;
            } else {
                cell.innerHTML = `<span class="english-form">${englishText}</span>`;
            }
        }

        // Reveal all paradigm
        function revealAllParadigm() {
            const latinForms = ['porto', 'portas', 'portat', 'portamus', 'portatis', 'portant'];
            const englishForms = [
                'I carry / I am carrying',
                'you carry / you are carrying', 
                'he/she/it carries / is carrying',
                'we carry / we are carrying',
                'you carry / you are carrying',
                'they carry / they are carrying'
            ];
            
            const cells = document.querySelectorAll('.paradigm-grid .paradigm-cell.clickable');
            let formIndex = 0;
            
            cells.forEach((cell, index) => {
                cell.classList.remove('clickable');
                cell.classList.add('revealed');
                
                if (index % 2 === 0) {
                    // Latin form
                    cell.innerHTML = `<span class="latin-form">${latinForms[formIndex]}</span>`;
                } else {
                    // English translation
                    cell.innerHTML = `<span class="english-form">${englishForms[formIndex]}</span>`;
                    formIndex++;
                }
            });
        }

        // Modal functions
        function showInfoModal() {
            document.getElementById('infoModal').style.display = 'block';
        }

        function closeInfoModal() {
            document.getElementById('infoModal').style.display = 'none';
        }

        window.onclick = function(event) {
            const modal = document.getElementById('infoModal');
            if (event.target === modal) {
                closeInfoModal();
            }
        }
    </script>
</body>
</html>
