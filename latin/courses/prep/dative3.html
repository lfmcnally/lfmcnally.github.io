<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dative Games!</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: #f8f9fa;
            min-height: 100vh;
            display: flex;
        }

        .sidebar {
            width: 260px;
            background: white;
            border-right: 1px solid #e5e7eb;
            position: fixed;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
        }

        .logo-section {
            padding: 1.5rem 1.25rem;
            border-bottom: 1px solid #e5e7eb;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo-icon {
            width: 32px;
            height: 32px;
            background: linear-gradient(135deg, #0066ff 0%, #4d94ff 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            color: white;
            font-size: 1.1rem;
        }

        .logo-text {
            font-size: 1.25rem;
            font-weight: 700;
            color: #1f2937;
        }

        .nav-section {
            padding: 1rem 0.5rem;
        }

        .nav-title {
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            color: #9ca3af;
            letter-spacing: 0.05em;
            padding: 0 0.75rem;
            margin-bottom: 0.5rem;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.625rem 0.75rem;
            margin: 0.125rem 0;
            border-radius: 8px;
            color: #4b5563;
            font-size: 0.9rem;
            transition: all 0.15s ease;
            cursor: pointer;
            user-select: none;
        }

        .nav-item:hover {
            background: #f3f4f6;
            color: #1f2937;
        }

        .nav-item.active {
            background: #eef2ff;
            color: #0066ff;
            font-weight: 500;
        }

        .nav-icon {
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
        }

        .main-content {
            margin-left: 260px;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .content-wrapper {
            flex: 1;
            overflow-y: auto;
        }

        .content-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .section-content {
            display: none;
        }

        .section-content.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .game-card {
            background: white;
            border-radius: 20px;
            padding: 3rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .game-title {
            font-size: 2.5rem;
            font-weight: 800;
            color: #667eea;
            margin-bottom: 1rem;
            text-align: center;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }

        .game-subtitle {
            font-size: 1.3rem;
            color: #6b7280;
            text-align: center;
            margin-bottom: 2rem;
        }

        .score-display {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            padding: 1.5rem;
            border-radius: 15px;
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .game-question {
            background: #f9fafb;
            border: 3px solid #667eea;
            border-radius: 15px;
            padding: 3rem;
            text-align: center;
            margin-bottom: 2rem;
            min-height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .question-text {
            font-size: 2.5rem;
            font-weight: 700;
            color: #1f2937;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .game-button {
            padding: 2rem;
            font-size: 1.5rem;
            font-weight: 700;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .game-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .game-button.correct {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .game-button.incorrect {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
        }

        .game-button.option {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
        }

        .game-button.option:active {
            transform: scale(0.98);
        }

        .flip-card {
            width: 250px;
            height: 250px;
            perspective: 1000px;
            margin: 1rem;
            display: inline-block;
        }

        .flip-card-inner {
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
            position: relative;
            cursor: pointer;
        }

        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front,
        .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            font-weight: 700;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        }

        .flip-card-front {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .flip-card-back {
            background: white;
            color: #1f2937;
            transform: rotateY(180deg);
            border: 4px solid #667eea;
            flex-direction: column;
            padding: 1rem;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .memory-card {
            aspect-ratio: 1;
            background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);
            border-radius: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: white;
            transition: all 0.3s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .memory-card:hover {
            transform: scale(1.05);
        }

        .memory-card.flipped {
            background: white;
            border: 3px solid #06b6d4;
            color: #1f2937;
        }

        .memory-card.matched {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            cursor: default;
        }

        .timer {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            padding: 1rem 2rem;
            border-radius: 15px;
            font-size: 3rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .word-tile {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            padding: 1.5rem 2rem;
            border-radius: 12px;
            font-size: 1.8rem;
            font-weight: 700;
            margin: 0.5rem;
            display: inline-block;
            cursor: move;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            user-select: none;
        }

        .word-tile.placed {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        }

        .sentence-slots {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 3rem 0;
            min-height: 100px;
            padding: 2rem;
            background: #f9fafb;
            border-radius: 15px;
            border: 3px dashed #d1d5db;
        }

        .word-slot {
            min-width: 150px;
            min-height: 80px;
            border: 3px dashed #9ca3af;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: white;
        }

        .word-slot.filled {
            border-color: #3b82f6;
            background: #eff6ff;
        }

        .control-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin: 2rem 0;
        }

        .control-button {
            padding: 1.5rem 3rem;
            font-size: 1.3rem;
            font-weight: 700;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .control-button.start {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
        }

        .control-button.check {
            background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
            color: white;
        }

        .control-button.reset {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
        }

        .control-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .feedback-message {
            font-size: 2rem;
            font-weight: 700;
            text-align: center;
            padding: 2rem;
            border-radius: 15px;
            margin: 2rem 0;
            display: none;
        }

        .feedback-message.correct {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            display: block;
        }

        .feedback-message.incorrect {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            display: block;
        }

        .dative-label {
            background: rgba(245, 158, 11, 0.3);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 1.2rem;
            font-weight: 600;
            color: #92400e;
            margin-top: 0.5rem;
        }
    </style>
</head>
<body>
    <aside class="sidebar">
        <div class="logo-section">
            <div class="logo">
                <div class="logo-icon">C</div>
                <span class="logo-text">Classicalia</span>
            </div>
        </div>

        <nav class="nav-section">
            <div class="nav-title">üéÆ Choose Your Game!</div>
            <div class="nav-item active" data-section="learning">
                <span class="nav-icon">üéØ</span>
                <span>Learning Goals</span>
            </div>
            <div class="nav-item" data-section="detective">
                <span class="nav-icon">üîç</span>
                <span>Dative Detective</span>
            </div>
            <div class="nav-item" data-section="sorting">
                <span class="nav-icon">üéØ</span>
                <span>Singular or Plural?</span>
            </div>
            <div class="nav-item" data-section="builder">
                <span class="nav-icon">üèóÔ∏è</span>
                <span>Build-a-Sentence</span>
            </div>
            <div class="nav-item" data-section="shout">
                <span class="nav-icon">üì¢</span>
                <span>Case Showdown!</span>
            </div>
            <div class="nav-item" data-section="memory">
                <span class="nav-icon">üß†</span>
                <span>Match the Pairs</span>
            </div>
            <div class="nav-item" data-section="police">
                <span class="nav-icon">üëÆ</span>
                <span>Grammar Police</span>
            </div>
        </nav>
    </aside>

    <main class="main-content">
        <div class="content-wrapper">
            <div class="content-container">

                <!-- Learning Goals Section -->
                <div class="section-content active" id="learning">
                    <div class="game-card" style="background: linear-gradient(135deg, #0066ff 0%, #0052cc 100%); color: white;">
                        <h1 class="game-title" style="color: white; text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);">Chapter 9: The Dative Case</h1>
                        <p class="game-subtitle" style="color: #dbeafe;">Consolidation Activities</p>
                    </div>

                    <div class="game-card">
                        <div style="background: white; border: 3px solid #e5e7eb; border-radius: 12px; padding: 2rem; margin-bottom: 2rem;">
                            <div style="font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; color: #0066ff; margin-bottom: 0.75rem; font-weight: 700;">
                                Learning Intention
                            </div>
                            <div style="font-size: 1.5rem; font-weight: 600; margin-bottom: 2rem; line-height: 1.4; color: #1f2937;">
                                Practise using the dative case in different situations
                            </div>
                            
                            <div style="font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.5px; color: #0066ff; margin-bottom: 0.75rem; font-weight: 700;">
                                Success Competencies
                            </div>
                            <div style="display: flex; align-items: flex-start; gap: 0.75rem; margin-bottom: 0.75rem; font-size: 1.05rem; line-height: 1.5;">
                                <div style="background: #ef4444; color: white; border-radius: 50%; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.9rem; flex-shrink: 0;">1</div>
                                <div style="color: #1f2937;">I can recognise dative forms in sentences</div>
                            </div>
                            <div style="display: flex; align-items: flex-start; gap: 0.75rem; margin-bottom: 0.75rem; font-size: 1.05rem; line-height: 1.5;">
                                <div style="background: #0066ff; color: white; border-radius: 50%; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.9rem; flex-shrink: 0;">2</div>
                                <div style="color: #1f2937;">I can identify which person is receiving something in a sentence</div>
                            </div>
                            <div style="display: flex; align-items: flex-start; gap: 0.75rem; margin-bottom: 0.75rem; font-size: 1.05rem; line-height: 1.5;">
                                <div style="background: #10b981; color: white; border-radius: 50%; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.9rem; flex-shrink: 0;">3</div>
                                <div style="color: #1f2937;">I can tell the difference between similar-looking forms by using context</div>
                            </div>
                            <div style="display: flex; align-items: flex-start; gap: 0.75rem; margin-bottom: 0.75rem; font-size: 1.05rem; line-height: 1.5;">
                                <div style="background: #f59e0b; color: white; border-radius: 50%; width: 28px; height: 28px; display: flex; align-items: center; justify-content: center; font-weight: 600; font-size: 0.9rem; flex-shrink: 0;">4</div>
                                <div style="color: #1f2937;">I can build correct sentences using the dative case</div>
                            </div>
                        </div>

                        <h2 style="font-size: 1.8rem; font-weight: 700; color: #1f2937; margin-bottom: 1.5rem; text-align: center;">
                            Choose a game from the menu! üéÆ
                        </h2>

                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem; margin-top: 2rem;">
                            <div style="background: linear-gradient(135deg, #1f2937 0%, #111827 100%); color: white; padding: 1.5rem; border-radius: 12px; cursor: pointer;" onclick="showSection('detective')">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üîç</div>
                                <div style="font-size: 1.2rem; font-weight: 700; margin-bottom: 0.5rem;">Dative Detective</div>
                                <div style="font-size: 0.9rem; opacity: 0.8;">Is it dative? Yes or no?</div>
                            </div>

                            <div style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); color: white; padding: 1.5rem; border-radius: 12px; cursor: pointer;" onclick="showSection('sorting')">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üéØ</div>
                                <div style="font-size: 1.2rem; font-weight: 700; margin-bottom: 0.5rem;">Singular or Plural?</div>
                                <div style="font-size: 0.9rem; opacity: 0.8;">Sort dative words by number</div>
                            </div>

                            <div style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white; padding: 1.5rem; border-radius: 12px; cursor: pointer;" onclick="showSection('builder')">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üèóÔ∏è</div>
                                <div style="font-size: 1.2rem; font-weight: 700; margin-bottom: 0.5rem;">Build-a-Sentence</div>
                                <div style="font-size: 0.9rem; opacity: 0.8;">Drag words to build sentences</div>
                            </div>

                            <div style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); color: white; padding: 1.5rem; border-radius: 12px; cursor: pointer;" onclick="showSection('shout')">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üì¢</div>
                                <div style="font-size: 1.2rem; font-weight: 700; margin-bottom: 0.5rem;">Case Showdown!</div>
                                <div style="font-size: 0.9rem; opacity: 0.8;">Nom, Dat, or Acc?</div>
                            </div>

                            <div style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%); color: white; padding: 1.5rem; border-radius: 12px; cursor: pointer;" onclick="showSection('memory')">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üß†</div>
                                <div style="font-size: 1.2rem; font-weight: 700; margin-bottom: 0.5rem;">Match the Pairs</div>
                                <div style="font-size: 0.9rem; opacity: 0.8;">Memory matching game</div>
                            </div>

                            <div style="background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%); color: white; padding: 1.5rem; border-radius: 12px; cursor: pointer;" onclick="showSection('police')">
                                <div style="font-size: 2rem; margin-bottom: 0.5rem;">üëÆ</div>
                                <div style="font-size: 1.2rem; font-weight: 700; margin-bottom: 0.5rem;">Grammar Police</div>
                                <div style="font-size: 0.9rem; opacity: 0.8;">Spot the errors!</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Game 1: Dative Detective -->
                <div class="section-content" id="detective">
                    <div class="game-card" style="background: linear-gradient(135deg, #1f2937 0%, #111827 100%); color: white;">
                        <h1 class="game-title" style="color: #fbbf24; text-shadow: 0 0 10px rgba(251, 191, 36, 0.5);">üîç DATIVE DETECTIVE</h1>
                        <p class="game-subtitle" style="color: #d1d5db;">Is the highlighted word DATIVE? Vote YES or NO!</p>
                        
                        <div class="score-display" style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);">
                            Score: <span id="detective-score">0</span> / <span id="detective-total">0</span>
                        </div>

                        <div class="game-question" style="background: #374151; border-color: #fbbf24; box-shadow: 0 0 20px rgba(251, 191, 36, 0.3);">
                            <div>
                                <p class="question-text" style="color: white;" id="detective-sentence"></p>
                            </div>
                        </div>

                        <div class="button-grid">
                            <button class="game-button option" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);" onclick="detectiveAnswer(true)">
                                ‚úÖ YES - IT'S DATIVE!
                            </button>
                            <button class="game-button option" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);" onclick="detectiveAnswer(false)">
                                ‚ùå NO - NOT DATIVE!
                            </button>
                        </div>

                        <div class="feedback-message" id="detective-feedback"></div>

                        <div class="control-buttons">
                            <button class="control-button reset" onclick="detectiveReset()">üîÑ New Game</button>
                        </div>
                    </div>
                </div>

                <!-- Game 2: Singular or Plural -->
                <div class="section-content" id="sorting">
                    <div class="game-card" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%); color: white;">
                        <h1 class="game-title" style="color: white; text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);">üéØ SINGULAR OR PLURAL?</h1>
                        <p class="game-subtitle" style="color: #fecaca;">What kind of dative is this?</p>
                        
                        <div class="score-display" style="background: white; color: #ef4444;">
                            Score: <span id="sorting-score">0</span> / <span id="sorting-total">0</span>
                        </div>

                        <div class="game-question" style="background: white; border: 5px solid #fca5a5;">
                            <div>
                                <p class="question-text" style="color: #ef4444;" id="sorting-word"></p>
                            </div>
                        </div>

                        <div class="button-grid">
                            <button class="game-button option" style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);" onclick="sortingAnswer('sing')">
                                Singular (TO one person)
                            </button>
                            <button class="game-button option" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);" onclick="sortingAnswer('plur')">
                                Plural (TO many people)
                            </button>
                        </div>

                        <div class="feedback-message" id="sorting-feedback"></div>

                        <div class="control-buttons">
                            <button class="control-button reset" onclick="sortingReset()">üîÑ New Game</button>
                        </div>
                    </div>
                </div>

                <!-- Game 3: Build-a-Sentence -->
                <div class="section-content" id="builder">
                    <div class="game-card" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%); color: white;">
                        <h1 class="game-title" style="color: white; text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);">üèóÔ∏è BUILD-A-SENTENCE</h1>
                        <p class="game-subtitle" style="color: #fef3c7;">Drag the words into the correct boxes!</p>
                        
                        <div class="game-question" style="background: white; border: 5px solid #fbbf24;">
                            <div>
                                <p style="font-size: 1.8rem; color: #92400e;">Build this sentence:</p>
                                <p class="question-text" style="color: #d97706;" id="builder-target"></p>
                            </div>
                        </div>

                        <div style="display: flex; justify-content: center; gap: 1.5rem; margin: 2rem 0;">
                            <div style="text-align: center;">
                                <div style="background: rgba(59, 130, 246, 0.9); color: white; padding: 0.75rem; border-radius: 10px 10px 0 0; font-weight: 700; font-size: 1.2rem;">
                                    SUBJECT (Nom)
                                </div>
                                <div class="word-slot" id="slot-0" style="width: 200px; height: 100px; border: 4px solid #3b82f6;"></div>
                            </div>
                            <div style="text-align: center;">
                                <div style="background: rgba(245, 158, 11, 0.9); color: white; padding: 0.75rem; border-radius: 10px 10px 0 0; font-weight: 700; font-size: 1.2rem;">
                                    TO/FOR (Dat)
                                </div>
                                <div class="word-slot" id="slot-1" style="width: 200px; height: 100px; border: 4px solid #f59e0b;"></div>
                            </div>
                            <div style="text-align: center;">
                                <div style="background: rgba(239, 68, 68, 0.9); color: white; padding: 0.75rem; border-radius: 10px 10px 0 0; font-weight: 700; font-size: 1.2rem;">
                                    OBJECT (Acc)
                                </div>
                                <div class="word-slot" id="slot-2" style="width: 200px; height: 100px; border: 4px solid #ef4444;"></div>
                            </div>
                            <div style="text-align: center;">
                                <div style="background: rgba(16, 185, 129, 0.9); color: white; padding: 0.75rem; border-radius: 10px 10px 0 0; font-weight: 700; font-size: 1.2rem;">
                                    VERB
                                </div>
                                <div class="word-slot" id="slot-3" style="width: 200px; height: 100px; border: 4px solid #10b981;"></div>
                            </div>
                        </div>

                        <div style="text-align: center; margin: 3rem 0; background: white; padding: 2rem; border-radius: 15px;">
                            <p style="color: #92400e; font-size: 1.3rem; font-weight: 700; margin-bottom: 1rem;">
                                Drag these words:
                            </p>
                            <div id="builder-tiles"></div>
                        </div>

                        <div class="feedback-message" id="builder-feedback"></div>

                        <div class="control-buttons">
                            <button class="control-button check" onclick="builderCheck()">‚úì Check Answer</button>
                            <button class="control-button reset" onclick="builderReset()">üîÑ New Sentence</button>
                        </div>
                    </div>
                </div>

                <!-- Game 4: Case Showdown -->
                <div class="section-content" id="shout">
                    <div class="game-card" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%); color: white;">
                        <h1 class="game-title" style="color: white; text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);">üì¢ CASE SHOWDOWN!</h1>
                        <p class="game-subtitle" style="color: #e9d5ff;">What case is this word? SHOUT IT OUT!</p>
                        
                        <div class="score-display" style="background: white; color: #8b5cf6;">
                            Score: <span id="shout-score">0</span> / <span id="shout-total">0</span>
                        </div>

                        <div class="game-question" style="background: white; border: 5px solid #c4b5fd;">
                            <div>
                                <p class="question-text" style="color: #7c3aed;" id="shout-word"></p>
                            </div>
                        </div>

                        <div class="button-grid" style="grid-template-columns: repeat(3, 1fr);">
                            <button class="game-button option" style="background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);" onclick="shoutAnswer('nom')">
                                NOMINATIVE<br>(subject)
                            </button>
                            <button class="game-button option" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);" onclick="shoutAnswer('dat')">
                                DATIVE<br>(to/for)
                            </button>
                            <button class="game-button option" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);" onclick="shoutAnswer('acc')">
                                ACCUSATIVE<br>(object)
                            </button>
                        </div>

                        <div class="feedback-message" id="shout-feedback"></div>

                        <div class="control-buttons">
                            <button class="control-button reset" onclick="shoutReset()">üîÑ New Game</button>
                        </div>
                    </div>
                </div>

                <!-- Game 5: Memory Match -->
                <div class="section-content" id="memory">
                    <div class="game-card" style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%); color: white;">
                        <h1 class="game-title" style="color: white; text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);">üß† MATCH THE PAIRS</h1>
                        <p class="game-subtitle" style="color: #cffafe;">Match Latin words with their English meanings!</p>
                        
                        <div class="score-display" style="background: white; color: #06b6d4;">
                            Pairs Found: <span id="memory-score">0</span> / 6
                        </div>

                        <div class="card-grid" id="memory-grid"></div>

                        <div class="control-buttons">
                            <button class="control-button reset" onclick="memoryReset()">üîÑ New Game</button>
                        </div>
                    </div>
                </div>

                <!-- Game 6: Grammar Police -->
                <div class="section-content" id="police">
                    <div class="game-card" style="background: linear-gradient(135deg, #1e40af 0%, #1e3a8a 100%); color: white;">
                        <h1 class="game-title" style="color: white; text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);">üëÆ GRAMMAR POLICE</h1>
                        <p class="game-subtitle" style="color: #dbeafe;">Is this sentence CORRECT or INCORRECT? Look for clues!</p>
                        
                        <div class="score-display" style="background: white; color: #1e40af;">
                            Score: <span id="police-score">0</span> / <span id="police-total">0</span>
                        </div>

                        <div class="game-question" style="background: white; border: 5px solid #60a5fa;">
                            <div>
                                <p class="question-text" style="color: #1e40af;" id="police-sentence"></p>
                            </div>
                        </div>

                        <div class="button-grid">
                            <button class="game-button option" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);" onclick="policeAnswer(true)">
                                ‚úÖ CORRECT<br><span style="font-size: 1rem; font-weight: 400;">(No errors!)</span>
                            </button>
                            <button class="game-button option" style="background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);" onclick="policeAnswer(false)">
                                üö® ARREST IT!<br><span style="font-size: 1rem; font-weight: 400;">(Something's wrong!)</span>
                            </button>
                        </div>

                        <div class="feedback-message" id="police-feedback"></div>

                        <div style="background: rgba(255, 255, 255, 0.2); border-radius: 12px; padding: 1.5rem; margin: 2rem 0; display: none;" id="police-hint">
                            <div style="font-size: 1.3rem; font-weight: 700; margin-bottom: 0.5rem;">üí° Detective's Tip:</div>
                            <div style="font-size: 1.1rem;" id="police-hint-text"></div>
                        </div>

                        <div class="control-buttons">
                            <button class="control-button" style="background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);" onclick="policeShowHint()">üí° Show Hint</button>
                            <button class="control-button reset" onclick="policeReset()">üîÑ New Game</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <script>
        // Navigation
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', function() {
                const sectionId = this.getAttribute('data-section');
                showSection(sectionId);
            });
        });

        function showSection(sectionId) {
            document.querySelectorAll('.section-content').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-section') === sectionId) {
                    item.classList.add('active');
                }
            });
        }

        // GAME 1: Dative Detective
        const detectiveQuestions = [
            { sentence: 'pater <span style="background: rgba(245, 158, 11, 0.4); padding: 0.25rem 0.5rem; border-radius: 6px;">fƒ´li≈ç</span> pec≈´niam dat', isDative: true, explanation: 'fƒ´li≈ç is dative singular - to the son' },
            { sentence: 'mƒÅter <span style="background: rgba(245, 158, 11, 0.4); padding: 0.25rem 0.5rem; border-radius: 6px;">puellƒÅs</span> videt', isDative: false, explanation: 'puellƒÅs is accusative plural - the girls' },
            { sentence: 'servƒ´ <span style="background: rgba(245, 158, 11, 0.4); padding: 0.25rem 0.5rem; border-radius: 6px;">dominƒ´s</span> clƒÅm≈çrem tollunt', isDative: true, explanation: 'dominƒ´s is dative plural - for the masters' },
            { sentence: 'dominus <span style="background: rgba(245, 158, 11, 0.4); padding: 0.25rem 0.5rem; border-radius: 6px;">servum</span> audit', isDative: false, explanation: 'servum is accusative singular - the slave (object)' },
            { sentence: 'puella <span style="background: rgba(245, 158, 11, 0.4); padding: 0.25rem 0.5rem; border-radius: 6px;">amƒ´cƒ´s</span> epistulƒÅs dat', isDative: true, explanation: 'amƒ´cƒ´s is dative plural - to the friends' },
            { sentence: 'cƒ´vƒìs <span style="background: rgba(245, 158, 11, 0.4); padding: 0.25rem 0.5rem; border-radius: 6px;">imperƒÅt≈çrem</span> laudant', isDative: false, explanation: 'imperƒÅt≈çrem is accusative singular - the general (object)' },
            { sentence: 'mƒÅter <span style="background: rgba(245, 158, 11, 0.4); padding: 0.25rem 0.5rem; border-radius: 6px;">fƒ´liƒ´s</span> fƒÅbulam narrat', isDative: true, explanation: 'fƒ´liƒ´s is dative plural - to the sons/daughters' },
            { sentence: 'puerƒ´ <span style="background: rgba(245, 158, 11, 0.4); padding: 0.25rem 0.5rem; border-radius: 6px;">puellae</span> aquam dant', isDative: true, explanation: 'puellae is dative singular - to the girl' }
        ];

        let detectiveIndex = 0;
        let detectiveScore = 0;
        let detectiveTotal = 0;

        function detectiveLoad() {
            if (detectiveIndex >= detectiveQuestions.length) {
                detectiveIndex = 0;
            }
            document.getElementById('detective-sentence').innerHTML = detectiveQuestions[detectiveIndex].sentence;
            document.getElementById('detective-feedback').style.display = 'none';
            document.getElementById('detective-feedback').classList.remove('correct', 'incorrect');
        }

        function detectiveAnswer(answer) {
            const correct = detectiveQuestions[detectiveIndex].isDative === answer;
            detectiveTotal++;
            if (correct) detectiveScore++;
            
            document.getElementById('detective-score').textContent = detectiveScore;
            document.getElementById('detective-total').textContent = detectiveTotal;
            
            const feedback = document.getElementById('detective-feedback');
            feedback.style.display = 'block';
            
            if (correct) {
                feedback.classList.add('correct');
                feedback.textContent = '‚úì CORRECT! ' + detectiveQuestions[detectiveIndex].explanation;
            } else {
                feedback.classList.add('incorrect');
                feedback.textContent = '‚úó OOPS! ' + detectiveQuestions[detectiveIndex].explanation;
            }
            
            detectiveIndex++;
            setTimeout(() => {
                if (detectiveIndex < detectiveQuestions.length) {
                    detectiveLoad();
                } else {
                    feedback.textContent = `üéâ GAME OVER! You scored ${detectiveScore}/${detectiveTotal}!`;
                    feedback.classList.remove('incorrect');
                    feedback.classList.add('correct');
                }
            }, 3000);
        }

        function detectiveReset() {
            detectiveIndex = 0;
            detectiveScore = 0;
            detectiveTotal = 0;
            document.getElementById('detective-score').textContent = '0';
            document.getElementById('detective-total').textContent = '0';
            detectiveLoad();
        }

        // GAME 2: Singular or Plural
        const sortingWords = [
            { word: 'fƒ´li≈ç', answer: 'sing', meaning: 'to the son' },
            { word: 'puellƒ´s', answer: 'plur', meaning: 'to the girls' },
            { word: 'domin≈ç', answer: 'sing', meaning: 'to the master' },
            { word: 'servƒ´s', answer: 'plur', meaning: 'to the slaves' },
            { word: 'amƒ´cƒ´s', answer: 'plur', meaning: 'to the friends' },
            { word: 'puellae', answer: 'sing', meaning: 'to the girl' },
            { word: 'dominƒ´s', answer: 'plur', meaning: 'to the masters' },
            { word: 'fƒ´liƒ´s', answer: 'plur', meaning: 'to the sons/daughters' }
        ];

        let sortingIndex = 0;
        let sortingScore = 0;
        let sortingTotal = 0;

        function sortingLoad() {
            if (sortingIndex >= sortingWords.length) {
                sortingIndex = 0;
            }
            document.getElementById('sorting-word').textContent = sortingWords[sortingIndex].word;
            document.getElementById('sorting-feedback').style.display = 'none';
            document.getElementById('sorting-feedback').classList.remove('correct', 'incorrect');
        }

        function sortingAnswer(answer) {
            const correct = sortingWords[sortingIndex].answer === answer;
            sortingTotal++;
            if (correct) sortingScore++;
            
            document.getElementById('sorting-score').textContent = sortingScore;
            document.getElementById('sorting-total').textContent = sortingTotal;
            
            const feedback = document.getElementById('sorting-feedback');
            feedback.style.display = 'block';
            
            if (correct) {
                feedback.classList.add('correct');
                feedback.textContent = '‚úì CORRECT! ' + sortingWords[sortingIndex].word + ' = ' + sortingWords[sortingIndex].meaning;
            } else {
                feedback.classList.add('incorrect');
                const correctAnswer = sortingWords[sortingIndex].answer === 'sing' ? 'SINGULAR' : 'PLURAL';
                feedback.textContent = '‚úó OOPS! It\'s ' + correctAnswer + ' - ' + sortingWords[sortingIndex].meaning;
            }
            
            sortingIndex++;
            setTimeout(() => {
                if (sortingIndex < sortingWords.length) {
                    sortingLoad();
                } else {
                    feedback.textContent = `üéâ GAME OVER! You scored ${sortingScore}/${sortingTotal}!`;
                    feedback.classList.remove('incorrect');
                    feedback.classList.add('correct');
                }
            }, 3000);
        }

        function sortingReset() {
            sortingIndex = 0;
            sortingScore = 0;
            sortingTotal = 0;
            document.getElementById('sorting-score').textContent = '0';
            document.getElementById('sorting-total').textContent = '0';
            sortingLoad();
        }

        // GAME 3: Build-a-Sentence
        const builderSentences = [
            { 
                target: 'The father gives money to the sons', 
                words: ['pater', 'patrem', 'fƒ´li≈ç', 'fƒ´liƒ´s', 'fƒ´lius', 'pec≈´niam', 'pec≈´nia', 'dat', 'dant'], 
                answer: ['pater', 'fƒ´liƒ´s', 'pec≈´niam', 'dat'] 
            },
            { 
                target: 'The mother tells the story to the girl', 
                words: ['mƒÅter', 'mƒÅtrem', 'puella', 'puellae', 'puellam', 'rem', 'rƒìs', 'narrat', 'nƒÅrrant'], 
                answer: ['mƒÅter', 'puellae', 'rem', 'narrat'] 
            },
            { 
                target: 'The soldiers raise a shout for the general', 
                words: ['mƒ´litƒìs', 'mƒ´litem', 'imperƒÅtor', 'imperƒÅt≈çrƒ´', 'imperƒÅt≈çrem', 'clƒÅm≈çrem', 'clƒÅmor', 'tollunt', 'tollit'], 
                answer: ['mƒ´litƒìs', 'imperƒÅt≈çrƒ´', 'clƒÅm≈çrem', 'tollunt'] 
            },
            { 
                target: 'The slave gives wine to the master', 
                words: ['servus', 'servum', 'servƒ´', 'dominus', 'domin≈ç', 'dominum', 'vƒ´num', 'vƒ´na', 'dat', 'dant'], 
                answer: ['servus', 'domin≈ç', 'vƒ´num', 'dat'] 
            }
        ];

        let builderIndex = 0;
        let builderPlaced = [];

        function builderLoad() {
            if (builderIndex >= builderSentences.length) {
                builderIndex = 0;
            }
            
            builderPlaced = [];
            const sentence = builderSentences[builderIndex];
            
            document.getElementById('builder-target').textContent = sentence.target;
            
            // Clear slots
            for (let i = 0; i < 4; i++) {
                const slot = document.getElementById('slot-' + i);
                slot.innerHTML = '';
                slot.classList.remove('filled');
            }
            
            // Create tiles (shuffled)
            const tilesContainer = document.getElementById('builder-tiles');
            tilesContainer.innerHTML = '';
            const shuffled = [...sentence.words].sort(() => Math.random() - 0.5);
            shuffled.forEach((word, index) => {
                const tile = document.createElement('div');
                tile.className = 'word-tile';
                tile.textContent = word;
                tile.draggable = true;
                tile.id = 'tile-' + index;
                tile.ondragstart = drag;
                tile.style.background = 'linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)';
                tilesContainer.appendChild(tile);
            });
            
            document.getElementById('builder-feedback').style.display = 'none';
        }

        function allowDrop(ev) {
            ev.preventDefault();
        }

        function drag(ev) {
            ev.dataTransfer.setData("text", ev.target.id);
        }

        function drop(ev) {
            ev.preventDefault();
            const data = ev.dataTransfer.getData("text");
            const tile = document.getElementById(data);
            const slot = ev.target.className === 'word-slot' ? ev.target : ev.target.closest('.word-slot');
            
            if (slot && tile) {
                // Return old tile to tiles area if slot was occupied
                if (slot.hasChildNodes()) {
                    const oldTile = slot.firstChild;
                    document.getElementById('builder-tiles').appendChild(oldTile);
                    oldTile.style.background = 'linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%)';
                }
                
                slot.appendChild(tile);
                tile.classList.add('placed');
                slot.classList.add('filled');
            }
        }

        function builderCheck() {
            const sentence = builderSentences[builderIndex];
            let userAnswer = [];
            
            for (let i = 0; i < 4; i++) {
                const slot = document.getElementById('slot-' + i);
                if (slot.hasChildNodes()) {
                    userAnswer.push(slot.firstChild.textContent);
                } else {
                    userAnswer.push('');
                }
            }
            
            const correct = JSON.stringify(userAnswer) === JSON.stringify(sentence.answer);
            const feedback = document.getElementById('builder-feedback');
            feedback.style.display = 'block';
            
            if (correct) {
                feedback.classList.add('correct');
                feedback.classList.remove('incorrect');
                feedback.textContent = '‚úì PERFECT! That\'s the correct sentence!';
            } else {
                feedback.classList.add('incorrect');
                feedback.classList.remove('correct');
                feedback.textContent = '‚úó Not quite! Check the case endings carefully!';
            }
        }

        function builderReset() {
            builderIndex++;
            builderLoad();
        }

        // Setup drag and drop for word slots
        for (let i = 0; i < 4; i++) {
            const slot = document.getElementById('slot-' + i);
            slot.ondrop = drop;
            slot.ondragover = allowDrop;
        }

        // GAME 4: Case Showdown
        const shoutWords = [
            { word: 'dominus', case: 'nom', explanation: 'NOMINATIVE - the master (subject)' },
            { word: 'domin≈ç', case: 'dat', explanation: 'DATIVE - to/for the master' },
            { word: 'dominum', case: 'acc', explanation: 'ACCUSATIVE - the master (object)' },
            { word: 'dominƒ´s', case: 'dat', explanation: 'DATIVE - to/for the masters' },
            { word: 'puella', case: 'nom', explanation: 'NOMINATIVE - the girl (subject)' },
            { word: 'puellae', case: 'dat', explanation: 'DATIVE - to/for the girl' },
            { word: 'puellam', case: 'acc', explanation: 'ACCUSATIVE - the girl (object)' },
            { word: 'puellƒ´s', case: 'dat', explanation: 'DATIVE - to/for the girls' },
            { word: 'fƒ´lius', case: 'nom', explanation: 'NOMINATIVE - the son (subject)' },
            { word: 'fƒ´li≈ç', case: 'dat', explanation: 'DATIVE - to/for the son' },
            { word: 'fƒ´lium', case: 'acc', explanation: 'ACCUSATIVE - the son (object)' },
            { word: 'fƒ´liƒ´s', case: 'dat', explanation: 'DATIVE - to/for the sons' },
            { word: 'servus', case: 'nom', explanation: 'NOMINATIVE - the slave (subject)' },
            { word: 'serv≈ç', case: 'dat', explanation: 'DATIVE - to/for the slave' },
            { word: 'servum', case: 'acc', explanation: 'ACCUSATIVE - the slave (object)' },
            { word: 'servƒ´s', case: 'dat', explanation: 'DATIVE - to/for the slaves' }
        ];

        let shoutIndex = 0;
        let shoutScore = 0;
        let shoutTotal = 0;

        function shoutLoad() {
            if (shoutIndex >= shoutWords.length) {
                shoutIndex = 0;
            }
            document.getElementById('shout-word').textContent = shoutWords[shoutIndex].word;
            document.getElementById('shout-feedback').style.display = 'none';
            document.getElementById('shout-feedback').classList.remove('correct', 'incorrect');
        }

        function shoutAnswer(answer) {
            const correct = shoutWords[shoutIndex].case === answer;
            shoutTotal++;
            if (correct) shoutScore++;
            
            document.getElementById('shout-score').textContent = shoutScore;
            document.getElementById('shout-total').textContent = shoutTotal;
            
            const feedback = document.getElementById('shout-feedback');
            feedback.style.display = 'block';
            
            if (correct) {
                feedback.classList.add('correct');
                feedback.textContent = '‚úì CORRECT! ' + shoutWords[shoutIndex].explanation;
            } else {
                feedback.classList.add('incorrect');
                feedback.textContent = '‚úó OOPS! ' + shoutWords[shoutIndex].explanation;
            }
            
            shoutIndex++;
            setTimeout(() => {
                if (shoutIndex < shoutWords.length) {
                    shoutLoad();
                } else {
                    feedback.textContent = `üéâ GAME OVER! You scored ${shoutScore}/${shoutTotal}!`;
                    feedback.classList.remove('incorrect');
                    feedback.classList.add('correct');
                }
            }, 3000);
        }

        function shoutReset() {
            shoutIndex = 0;
            shoutScore = 0;
            shoutTotal = 0;
            document.getElementById('shout-score').textContent = '0';
            document.getElementById('shout-total').textContent = '0';
            shoutLoad();
        }

        // GAME 6: Grammar Police
        const policeCases = [
            // CORRECT sentences
            { sentence: 'puellae in viƒÅ ambulant', correct: true, explanation: '‚úì CORRECT! puellae = nominative plural (the girls) - matches plural verb "ambulant"', hint: 'Look at the verb - is it singular or plural?' },
            { sentence: 'mƒÅter puellae d≈çnum dat', correct: true, explanation: '‚úì CORRECT! puellae = dative singular (to the girl) - matches singular verb "dat"', hint: 'The verb "dat" is singular - so is puellae singular or plural here?' },
            { sentence: 'pater fƒ´li≈ç pec≈´niam dat', correct: true, explanation: '‚úì CORRECT! fƒ´li≈ç is dative singular - to the son', hint: 'What does the father give TO?' },
            { sentence: 'servƒ´ dominƒ´s clƒÅm≈çrem tollunt', correct: true, explanation: '‚úì CORRECT! dominƒ´s is dative plural - for the masters', hint: 'Who are they raising the shout FOR?' },
            { sentence: 'amƒ´cus senibus rem narrat', correct: true, explanation: '‚úì CORRECT! senibus is dative plural - to the old men', hint: 'Who is he telling the story TO?' },
            { sentence: 'fƒ´liae templum spectant', correct: true, explanation: '‚úì CORRECT! fƒ´liae = nominative plural (the daughters) - matches plural verb "spectant"', hint: 'Check the verb ending - singular or plural?' },
            
            // INCORRECT sentences - wrong case
            { sentence: 'pater fƒ´lius pec≈´niam dat', correct: false, explanation: 'üö® INCORRECT! Should be "fƒ´li≈ç" (dative) not "fƒ´lius" (nominative). You give TO someone!', hint: 'The father gives money TO whom? Check the case.' },
            { sentence: 'mƒÅter puellam d≈çnum dat', correct: false, explanation: 'üö® INCORRECT! Should be "puellae" (dative) not "puellam" (accusative). You give TO someone!', hint: 'The mother gives a gift TO whom? Is puellam the right case?' },
            { sentence: 'servus dominum vƒ´num dat', correct: false, explanation: 'üö® INCORRECT! Should be "domin≈ç" (dative) not "dominum" (accusative)', hint: 'Check the case of dominum - is it receiving the wine?' },
            
            // INCORRECT - verb agreement with tricky forms
            { sentence: 'puellae in viƒÅ ambulat', correct: false, explanation: 'üö® INCORRECT! If puellae is plural nominative (the girls), the verb should be "ambulant" not "ambulat"', hint: 'Does the verb match? "puellae" + "ambulat" - singular or plural?' },
            { sentence: 'mƒÅter puellae d≈çna dant', correct: false, explanation: 'üö® INCORRECT! If puellae is singular dative (to the girl), verb should be "dat" not "dant"', hint: 'Is "dant" singular or plural? Does it match the rest?' },
            { sentence: 'fƒ´liae templum spectat', correct: false, explanation: 'üö® INCORRECT! If fƒ´liae is plural (the daughters), verb should be "spectant" not "spectat"', hint: 'Check verb agreement - singular or plural?' },
            
            // INCORRECT - mixed up dative
            { sentence: 'pater fƒ´liƒ´s pec≈´nia dat', correct: false, explanation: 'üö® INCORRECT! Should be "pec≈´niam" (accusative) not "pec≈´nia" (nominative). That\'s what is being given!', hint: 'What is being given? What case should that be?' },
            { sentence: 'servƒ´ domin≈ç clƒÅm≈çrem tollit', correct: false, explanation: 'üö® INCORRECT! Plural subject "servƒ´" needs plural verb "tollunt" not "tollit"', hint: 'Does the verb match the subject?' }
        ];

        let policeIndex = 0;
        let policeScore = 0;
        let policeTotal = 0;
        let policeHintShown = false;

        function policeLoad() {
            if (policeIndex >= policeCases.length) {
                policeIndex = 0;
            }
            document.getElementById('police-sentence').textContent = policeCases[policeIndex].sentence;
            document.getElementById('police-feedback').style.display = 'none';
            document.getElementById('police-feedback').classList.remove('correct', 'incorrect');
            document.getElementById('police-hint').style.display = 'none';
            document.getElementById('police-hint-text').textContent = policeCases[policeIndex].hint;
            policeHintShown = false;
        }

        function policeShowHint() {
            if (!policeHintShown) {
                document.getElementById('police-hint').style.display = 'block';
                policeHintShown = true;
            }
        }

        function policeAnswer(answer) {
            const correct = policeCases[policeIndex].correct === answer;
            policeTotal++;
            if (correct) policeScore++;
            
            document.getElementById('police-score').textContent = policeScore;
            document.getElementById('police-total').textContent = policeTotal;
            
            const feedback = document.getElementById('police-feedback');
            feedback.style.display = 'block';
            
            if (correct) {
                feedback.classList.add('correct');
                feedback.textContent = policeCases[policeIndex].explanation;
            } else {
                feedback.classList.add('incorrect');
                feedback.textContent = '‚úó WRONG! ' + policeCases[policeIndex].explanation;
            }
            
            // Always show the hint after answering for learning
            document.getElementById('police-hint').style.display = 'none';
            
            policeIndex++;
            setTimeout(() => {
                if (policeIndex < policeCases.length) {
                    policeLoad();
                } else {
                    feedback.textContent = `üéâ CASE CLOSED! You scored ${policeScore}/${policeTotal}!`;
                    feedback.classList.remove('incorrect');
                    feedback.classList.add('correct');
                }
            }, 4000);
        }

        function policeReset() {
            policeIndex = 0;
            policeScore = 0;
            policeTotal = 0;
            document.getElementById('police-score').textContent = '0';
            document.getElementById('police-total').textContent = '0';
            policeLoad();
        }

        // GAME 6: Memory Match
        const memoryPairs = [
            { latin: 'fƒ´li≈ç', english: 'to the son' },
            { latin: 'puellƒ´s', english: 'to the girls' },
            { latin: 'domin≈ç', english: 'to the master' },
            { latin: 'servƒ´s', english: 'to the slaves' },
            { latin: 'amƒ´cƒ´s', english: 'to the friends' },
            { latin: 'fƒ´liƒ´s', english: 'to the sons' }
        ];

        let memoryCards = [];
        let memoryFlipped = [];
        let memoryMatched = 0;

        function memoryLoad() {
            memoryCards = [];
            memoryPairs.forEach(pair => {
                memoryCards.push({ text: pair.latin, match: pair.english, type: 'latin' });
                memoryCards.push({ text: pair.english, match: pair.latin, type: 'english' });
            });
            memoryCards.sort(() => Math.random() - 0.5);
            
            const grid = document.getElementById('memory-grid');
            grid.innerHTML = '';
            
            memoryCards.forEach((card, index) => {
                const cardDiv = document.createElement('div');
                cardDiv.className = 'memory-card';
                cardDiv.textContent = '?';
                cardDiv.setAttribute('data-index', index);
                cardDiv.onclick = () => memoryFlip(index);
                grid.appendChild(cardDiv);
            });
            
            memoryFlipped = [];
            memoryMatched = 0;
            document.getElementById('memory-score').textContent = '0';
        }

        function memoryFlip(index) {
            const cards = document.querySelectorAll('.memory-card');
            const card = cards[index];
            
            if (card.classList.contains('flipped') || card.classList.contains('matched') || memoryFlipped.length >= 2) {
                return;
            }
            
            card.classList.add('flipped');
            card.textContent = memoryCards[index].text;
            memoryFlipped.push(index);
            
            if (memoryFlipped.length === 2) {
                setTimeout(memoryCheck, 1000);
            }
        }

        function memoryCheck() {
            const cards = document.querySelectorAll('.memory-card');
            const [first, second] = memoryFlipped;
            
            if (memoryCards[first].match === memoryCards[second].text) {
                cards[first].classList.add('matched');
                cards[second].classList.add('matched');
                memoryMatched++;
                document.getElementById('memory-score').textContent = memoryMatched;
            } else {
                cards[first].classList.remove('flipped');
                cards[second].classList.remove('flipped');
                cards[first].textContent = '?';
                cards[second].textContent = '?';
            }
            
            memoryFlipped = [];
        }

        function memoryReset() {
            memoryLoad();
        }

        // Initialize games on load
        detectiveLoad();
        sortingLoad();
        builderLoad();
        shoutLoad();
        memoryLoad();
        policeLoad();
    </script>
</body>
</html>
