<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Otium - Poem 50 (Lines 11-21)</title>
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: #ffffff;
            color: #333;
            padding: 25px 45px;
            min-height: 100vh;
            margin: 0;
            font-size: 22px;
        }
        
        .header {
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }
        
        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }
        
        .header-left {
            display: flex;
            align-items: flex-start;
            gap: 12px;
        }
        
        .logo {
            width: 48px;
            height: 48px;
            background: linear-gradient(135deg, #0066ff 0%, #4d94ff 100%);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 700;
            font-size: 1.5rem;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            text-decoration: none;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            margin-top: 2px;
        }
        
        .logo:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0, 102, 255, 0.3);
        }
        
        .title-area {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }
        
        h1 {
            color: #222;
            margin: 0;
            font-size: 1.6em;
            font-weight: 600;
        }
        
        .subtitle {
            font-size: 1em;
            color: #666;
            margin: 0;
        }
        
        /* Compact controls */
        .controls-area {
            display: flex;
            flex-direction: column;
            align-items: stretch;
            gap: 4px;
        }
        
        .controls {
            display: flex;
            gap: 6px;
            justify-content: flex-end;
        }
        
        .controls button {
            padding: 0.6rem 1rem;
            font-size: 0.9rem;
            font-weight: 500;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: rgba(0, 102, 255, 0.08);
            color: #0066ff;
            flex: 1;
            text-align: center;
        }
        
        .controls button:hover {
            background: rgba(0, 102, 255, 0.15);
            transform: translateY(-1px);
        }
        
        #showAllBtn {
            background: #0066ff;
            color: white;
        }
        
        #showAllBtn:hover {
            background: #0052cc;
        }
        
        #hideAllBtn {
            background: rgba(0, 102, 255, 0.08);
            color: #0066ff;
        }
        
        #toggleColoursBtn {
            background: rgba(0, 102, 255, 0.08);
            color: #0066ff;
        }
        
        #toggleStyleBtn {
            background: rgba(0, 102, 255, 0.08);
            color: #0066ff;
        }
        
        body.style-mode #toggleStyleBtn {
            background: #0066ff;
            color: white;
        }
        
        /* Key - compact squares in header */
        .key {
            display: flex;
            gap: 6px;
        }
        
        .key-item {
            padding: 0.6rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            font-weight: 500;
            color: #333;
            cursor: pointer;
            user-select: none;
            transition: all 0.2s ease;
            text-align: center;
            border: none;
            flex: 1;
        }
        
        .key-item:hover {
            transform: translateY(-1px);
            filter: brightness(0.95);
        }
        
        .key-item.active {
            outline: 2px solid #333;
            outline-offset: 1px;
        }
        
        /* Main content area */
        .translation-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
        }
        
        .column-header {
            font-size: 0.9em;
            color: #999;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 15px;
            padding-left: 55px;
        }
        
        /* Each line row */
        .line-row {
            display: flex;
            align-items: flex-end;
            margin-bottom: 14px;
            white-space: nowrap;
        }
        
        .line-number {
            color: #0066ff;
            font-weight: bold;
            min-width: 45px;
            margin-right: 10px;
            font-size: 1.15em;
            align-self: flex-end;
            padding-bottom: 4px;
        }
        
        .words-container {
            display: flex;
            align-items: flex-end;
            gap: 3px;
        }
        
        /* Word group with number above */
        .word-group {
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
        }
        
        .word-order {
            font-size: 0.65em;
            color: #888;
            margin-bottom: 4px;
            height: 1em;
            font-weight: 600;
        }
        
        .latin-word, .english-word {
            padding: 3px 7px;
            border-radius: 3px;
            font-size: 1em;
            transition: background-color 0.3s, opacity 0.3s;
            cursor: pointer;
        }
        
        .latin-word {
            background-color: transparent;
        }
        
        .english-word {
            opacity: 0;
        }
        
        .english-word.revealed {
            opacity: 1;
        }
        
        /* Colours */
        .subject .latin-word { background-color: #ffb3b3; }
        .english-word.subject { background-color: #ffb3b3; }
        
        .verb .latin-word { background-color: #b3e6ff; }
        .english-word.verb { background-color: #b3e6ff; }
        
        .object .latin-word { background-color: #b3ffcc; }
        .english-word.object { background-color: #b3ffcc; }
        
        .genitive .latin-word { background-color: #ffd9b3; }
        .english-word.genitive { background-color: #ffd9b3; }
        
        .dative .latin-word { background-color: #e6b3ff; }
        .english-word.dative { background-color: #e6b3ff; }
        
        .ablative .latin-word { background-color: #ffffb3; }
        .english-word.ablative { background-color: #ffffb3; }
        
        .preposition .latin-word { background-color: #ffb3e6; }
        .english-word.preposition { background-color: #ffb3e6; }
        
        .conjunction .latin-word { background-color: #d9ffb3; }
        .english-word.conjunction { background-color: #d9ffb3; }
        
        .adverb .latin-word { background-color: #ccb3ff; }
        .english-word.adverb { background-color: #ccb3ff; }
        
        .vocative .latin-word { background-color: #ffcbb3; }
        .english-word.vocative { background-color: #ffcbb3; }
        
        /* Highlighting */
        .subject.highlighted .latin-word { background-color: #ffb3b3 !important; }
        .english-word.subject.highlighted { background-color: #ffb3b3 !important; }
        .verb.highlighted .latin-word { background-color: #b3e6ff !important; }
        .english-word.verb.highlighted { background-color: #b3e6ff !important; }
        .object.highlighted .latin-word { background-color: #b3ffcc !important; }
        .english-word.object.highlighted { background-color: #b3ffcc !important; }
        .genitive.highlighted .latin-word { background-color: #ffd9b3 !important; }
        .english-word.genitive.highlighted { background-color: #ffd9b3 !important; }
        .dative.highlighted .latin-word { background-color: #e6b3ff !important; }
        .english-word.dative.highlighted { background-color: #e6b3ff !important; }
        .ablative.highlighted .latin-word { background-color: #ffffb3 !important; }
        .english-word.ablative.highlighted { background-color: #ffffb3 !important; }
        .preposition.highlighted .latin-word { background-color: #ffb3e6 !important; }
        .english-word.preposition.highlighted { background-color: #ffb3e6 !important; }
        .conjunction.highlighted .latin-word { background-color: #d9ffb3 !important; }
        .english-word.conjunction.highlighted { background-color: #d9ffb3 !important; }
        .adverb.highlighted .latin-word { background-color: #ccb3ff !important; }
        .english-word.adverb.highlighted { background-color: #ccb3ff !important; }
        .vocative.highlighted .latin-word { background-color: #ffcbb3 !important; }
        .english-word.vocative.highlighted { background-color: #ffcbb3 !important; }
        
        /* Hide colours mode */
        body.hide-colours .subject .latin-word,
        body.hide-colours .english-word.subject.revealed,
        body.hide-colours .verb .latin-word,
        body.hide-colours .english-word.verb.revealed,
        body.hide-colours .object .latin-word,
        body.hide-colours .english-word.object.revealed,
        body.hide-colours .genitive .latin-word,
        body.hide-colours .english-word.genitive.revealed,
        body.hide-colours .dative .latin-word,
        body.hide-colours .english-word.dative.revealed,
        body.hide-colours .ablative .latin-word,
        body.hide-colours .english-word.ablative.revealed,
        body.hide-colours .preposition .latin-word,
        body.hide-colours .english-word.preposition.revealed,
        body.hide-colours .conjunction .latin-word,
        body.hide-colours .english-word.conjunction.revealed,
        body.hide-colours .adverb .latin-word,
        body.hide-colours .english-word.adverb.revealed,
        body.hide-colours .vocative .latin-word,
        body.hide-colours .english-word.vocative.revealed {
            background-color: #e0e0e0;
        }
        
        /* Style Mode */
        .style-highlight {
            position: relative;
        }
        
        .style-highlight.active-style .latin-word {
            outline: 2px solid #333;
            outline-offset: 1px;
        }
        
        /* Style panel at bottom */
        .style-panel {
            display: none;
            background: rgba(0, 102, 255, 0.03);
            border-top: 2px solid rgba(0, 102, 255, 0.15);
            padding: 18px 24px;
            margin-top: 20px;
        }
        
        body.style-mode .style-panel {
            display: block;
        }
        
        .style-panel-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }
        
        .style-panel h3 {
            margin: 0;
            color: #0066ff;
            font-size: 1rem;
            font-weight: 600;
        }
        
        .style-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 15px;
        }
        
        .style-tag {
            padding: 8px 14px;
            background: white;
            border: 1px solid rgba(0, 102, 255, 0.25);
            border-radius: 6px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #333;
        }
        
        .style-tag:hover {
            border-color: #0066ff;
            background: rgba(0, 102, 255, 0.05);
        }
        
        .style-tag.active {
            background: #0066ff;
            color: white;
            border-color: #0066ff;
        }
        
        .style-tag em {
            font-style: italic;
        }
        
        .style-analysis {
            display: none;
            padding: 16px 20px;
            background: white;
            border-radius: 8px;
            border: 1px solid rgba(0, 102, 255, 0.15);
            margin-top: 10px;
        }
        
        .style-analysis.active {
            display: block;
        }
        
        .style-analysis-title {
            font-weight: 600;
            color: #0066ff;
            margin-bottom: 6px;
            font-size: 1rem;
        }
        
        .style-analysis-lines {
            font-size: 0.85rem;
            color: #666;
            margin-bottom: 10px;
        }
        
        .style-analysis-effect {
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 12px;
        }
        
        .style-analysis-exam {
            font-size: 0.9rem;
            line-height: 1.5;
            background: #f8f9fa;
            padding: 12px 15px;
            border-radius: 6px;
            border-left: 3px solid #0066ff;
        }
        
        .word-group:hover .latin-word {
            filter: brightness(0.95);
            transform: translateY(-1px);
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-top">
            <div class="header-left">
                <a href="https://www.classicalia.co.uk" class="logo">C</a>
                <div class="title-area">
                    <h1>Otium — Poem 50 (Lines 11-21)</h1>
                    <p class="subtitle">Catullus is unable to sleep</p>
                </div>
            </div>
            <div class="controls-area">
                <div class="controls">
                    <button id="showAllBtn">Show All</button>
                    <button id="hideAllBtn">Hide All</button>
                    <button id="toggleColoursBtn">Hide Colours</button>
                    <button id="toggleStyleBtn">Style Notes</button>
                </div>
                <div class="key">
                    <div class="key-item" style="background-color: #ffb3b3;" data-category="subject">Subj.</div>
                    <div class="key-item" style="background-color: #b3ffcc;" data-category="object">Obj.</div>
                    <div class="key-item" style="background-color: #b3e6ff;" data-category="verb">Verb</div>
                    <div class="key-item" style="background-color: #ffd9b3;" data-category="genitive">Gen.</div>
                    <div class="key-item" style="background-color: #e6b3ff;" data-category="dative">Dat.</div>
                    <div class="key-item" style="background-color: #ffffb3;" data-category="ablative">Abl.</div>
                    <div class="key-item" style="background-color: #ffb3e6;" data-category="preposition">Prep.</div>
                    <div class="key-item" style="background-color: #d9ffb3;" data-category="conjunction">Conj.</div>
                    <div class="key-item" style="background-color: #ccb3ff;" data-category="adverb">Adv.</div>
                    <div class="key-item" style="background-color: #ffcbb3;" data-category="vocative">Voc.</div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="translation-area">
        <!-- Latin Column -->
        <div class="latin-column">
            <div class="column-header">Latin</div>
            
            <!-- Line 11: sed toto indomitus furore lecto -->
            <div class="line-row" data-line="11">
                <span class="line-number">11</span>
                <div class="words-container">
                    <span class="word-group conjunction" data-order="11-01"><span class="word-order">1</span><span class="latin-word">sed</span></span>
                    <span class="word-group ablative style-highlight" data-order="11-06" data-style-feature="toto-lecto"><span class="word-order">6</span><span class="latin-word">tōtō</span></span>
                    <span class="word-group subject style-highlight" data-order="11-02" data-style-feature="indomitus"><span class="word-order">2</span><span class="latin-word">indomitus</span></span>
                    <span class="word-group ablative style-highlight" data-order="11-03" data-style-feature="furore"><span class="word-order">3</span><span class="latin-word">furōre</span></span>
                    <span class="word-group ablative style-highlight" data-order="11-06" data-style-feature="toto-lecto"><span class="word-order">6</span><span class="latin-word">lectō</span></span>
                </div>
            </div>
            
            <!-- Line 12: versarer, cupiens videre lucem -->
            <div class="line-row" data-line="12">
                <span class="line-number">12</span>
                <div class="words-container">
                    <span class="word-group verb style-highlight" data-order="11-04" data-style-feature="versarer"><span class="word-order">4</span><span class="latin-word">versārer,</span></span>
                    <span class="word-group verb style-highlight" data-order="12-07" data-style-feature="cupiens"><span class="word-order">7</span><span class="latin-word">cupiēns</span></span>
                    <span class="word-group verb" data-order="12-08"><span class="word-order">8</span><span class="latin-word">vidēre</span></span>
                    <span class="word-group object style-highlight" data-order="12-09" data-style-feature="lucem"><span class="word-order">9</span><span class="latin-word">lūcem,</span></span>
                </div>
            </div>
            
            <!-- Line 13: ut tecum loquerer simulque ut essem -->
            <div class="line-row" data-line="13">
                <span class="line-number">13</span>
                <div class="words-container">
                    <span class="word-group conjunction" data-order="13-10"><span class="word-order">10</span><span class="latin-word">ut</span></span>
                    <span class="word-group ablative" data-order="13-12"><span class="word-order">12</span><span class="latin-word">tēcum</span></span>
                    <span class="word-group verb" data-order="13-11"><span class="word-order">11</span><span class="latin-word">loquerer</span></span>
                    <span class="word-group conjunction style-highlight" data-order="13-13" data-style-feature="simulque"><span class="word-order">13</span><span class="latin-word">simulque</span></span>
                    <span class="word-group conjunction" data-order="13-14"><span class="word-order">14</span><span class="latin-word">ut</span></span>
                    <span class="word-group verb" data-order="13-15"><span class="word-order">15</span><span class="latin-word">essem.</span></span>
                </div>
            </div>
            
            <!-- Line 14: at defessa labore membra postquam -->
            <div class="line-row" data-line="14">
                <span class="line-number">14</span>
                <div class="words-container">
                    <span class="word-group conjunction" data-order="14-01"><span class="word-order">1</span><span class="latin-word">at</span></span>
                    <span class="word-group subject style-highlight" data-order="14-04" data-style-feature="defessa"><span class="word-order">4</span><span class="latin-word">defessa</span></span>
                    <span class="word-group ablative" data-order="14-05"><span class="word-order">5</span><span class="latin-word">labōre</span></span>
                    <span class="word-group subject style-highlight" data-order="14-03" data-style-feature="membra"><span class="word-order">3</span><span class="latin-word">membra</span></span>
                    <span class="word-group conjunction" data-order="14-02"><span class="word-order">2</span><span class="latin-word">postquam</span></span>
                </div>
            </div>
            
            <!-- Line 15: semimortua lectulo iacebant -->
            <div class="line-row" data-line="15">
                <span class="line-number">15</span>
                <div class="words-container">
                    <span class="word-group subject style-highlight" data-order="15-06" data-style-feature="semimortua"><span class="word-order">6</span><span class="latin-word">semimortua</span></span>
                    <span class="word-group ablative style-highlight" data-order="15-08" data-style-feature="lectulo"><span class="word-order">8</span><span class="latin-word">lectulō</span></span>
                    <span class="word-group verb" data-order="15-07"><span class="word-order">7</span><span class="latin-word">iacēbant,</span></span>
                </div>
            </div>
            
            <!-- Line 16: hoc, iucunde, tibi poema feci -->
            <div class="line-row" data-line="16">
                <span class="line-number">16</span>
                <div class="words-container">
                    <span class="word-group object style-highlight" data-order="16-09" data-style-feature="hoc-poema"><span class="word-order">9</span><span class="latin-word">hoc,</span></span>
                    <span class="word-group vocative style-highlight" data-order="16-10" data-style-feature="iucunde"><span class="word-order">10</span><span class="latin-word">iūcunde,</span></span>
                    <span class="word-group dative" data-order="16-11"><span class="word-order">11</span><span class="latin-word">tibi</span></span>
                    <span class="word-group object style-highlight" data-order="16-12" data-style-feature="hoc-poema"><span class="word-order">12</span><span class="latin-word">poēma</span></span>
                    <span class="word-group verb" data-order="16-13"><span class="word-order">13</span><span class="latin-word">fēcī,</span></span>
                </div>
            </div>
            
            <!-- Line 17: ex quo perspiceres meum dolorem -->
            <div class="line-row" data-line="17">
                <span class="line-number">17</span>
                <div class="words-container">
                    <span class="word-group preposition" data-order="17-14"><span class="word-order">14</span><span class="latin-word">ex</span></span>
                    <span class="word-group ablative" data-order="17-15"><span class="word-order">15</span><span class="latin-word">quō</span></span>
                    <span class="word-group verb" data-order="17-16"><span class="word-order">16</span><span class="latin-word">perspicerēs</span></span>
                    <span class="word-group object" data-order="17-17"><span class="word-order">17</span><span class="latin-word">meum</span></span>
                    <span class="word-group object style-highlight" data-order="17-18" data-style-feature="dolorem"><span class="word-order">18</span><span class="latin-word">dolōrem.</span></span>
                </div>
            </div>
            
            <!-- Line 18: nunc audax cave sis, precesque nostras -->
            <div class="line-row" data-line="18">
                <span class="line-number">18</span>
                <div class="words-container">
                    <span class="word-group adverb" data-order="18-01"><span class="word-order">1</span><span class="latin-word">nunc</span></span>
                    <span class="word-group subject style-highlight" data-order="18-04" data-style-feature="audax"><span class="word-order">4</span><span class="latin-word">audāx</span></span>
                    <span class="word-group verb style-highlight" data-order="18-02" data-style-feature="cave"><span class="word-order">2</span><span class="latin-word">cavē</span></span>
                    <span class="word-group verb" data-order="18-03"><span class="word-order">3</span><span class="latin-word">sīs,</span></span>
                    <span class="word-group object style-highlight" data-order="18-07" data-style-feature="preces"><span class="word-order">7</span><span class="latin-word">precēs</span></span>
                    <span class="word-group conjunction" data-order="18-05"><span class="word-order">5</span><span class="latin-word">-que</span></span>
                    <span class="word-group object" data-order="18-08"><span class="word-order">8</span><span class="latin-word">nostrās,</span></span>
                </div>
            </div>
            
            <!-- Line 19: oramus, cave despuas, ocelle -->
            <div class="line-row" data-line="19">
                <span class="line-number">19</span>
                <div class="words-container">
                    <span class="word-group verb" data-order="18-06"><span class="word-order">6</span><span class="latin-word">ōrāmus,</span></span>
                    <span class="word-group verb style-highlight" data-order="19-09" data-style-feature="cave"><span class="word-order">9</span><span class="latin-word">cavē</span></span>
                    <span class="word-group verb style-highlight" data-order="19-10" data-style-feature="despuas"><span class="word-order">10</span><span class="latin-word">dēspuās,</span></span>
                    <span class="word-group vocative style-highlight" data-order="19-11" data-style-feature="ocelle"><span class="word-order">11</span><span class="latin-word">ocelle,</span></span>
                </div>
            </div>
            
            <!-- Line 20: ne poenas Nemesis reposcat a te -->
            <div class="line-row" data-line="20">
                <span class="line-number">20</span>
                <div class="words-container">
                    <span class="word-group conjunction" data-order="20-12"><span class="word-order">12</span><span class="latin-word">nē</span></span>
                    <span class="word-group object" data-order="20-15"><span class="word-order">15</span><span class="latin-word">poenās</span></span>
                    <span class="word-group subject style-highlight" data-order="20-13" data-style-feature="nemesis"><span class="word-order">13</span><span class="latin-word">Nemesis</span></span>
                    <span class="word-group verb" data-order="20-14"><span class="word-order">14</span><span class="latin-word">reposcat</span></span>
                    <span class="word-group preposition" data-order="20-16"><span class="word-order">16</span><span class="latin-word">ā</span></span>
                    <span class="word-group ablative" data-order="20-17"><span class="word-order">17</span><span class="latin-word">tē.</span></span>
                </div>
            </div>
            
            <!-- Line 21: est vemens dea. laedere hanc caveto -->
            <div class="line-row" data-line="21">
                <span class="line-number">21</span>
                <div class="words-container">
                    <span class="word-group verb" data-order="21-18"><span class="word-order">18</span><span class="latin-word">est</span></span>
                    <span class="word-group subject style-highlight" data-order="21-19" data-style-feature="vemens"><span class="word-order">19</span><span class="latin-word">vemēns</span></span>
                    <span class="word-group subject" data-order="21-20"><span class="word-order">20</span><span class="latin-word">dea.</span></span>
                    <span class="word-group verb" data-order="21-22"><span class="word-order">22</span><span class="latin-word">laedere</span></span>
                    <span class="word-group object" data-order="21-21"><span class="word-order">21</span><span class="latin-word">hanc</span></span>
                    <span class="word-group verb style-highlight" data-order="21-23" data-style-feature="caveto"><span class="word-order">23</span><span class="latin-word">cavētō.</span></span>
                </div>
            </div>
        </div>
        
        <!-- English Column -->
        <div class="english-column">
            <div class="column-header">English</div>
            
            <!-- Line 11 English -->
            <div class="line-row" data-line="11">
                <span class="line-number">11</span>
                <div class="words-container">
                    <span class="word-group"><span class="word-order"></span><span class="english-word conjunction" data-order="11-01">But,</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word subject" data-order="11-02">uncontrollable</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word ablative" data-order="11-03">because of my frenzy,</span></span>
                </div>
            </div>
            
            <!-- Line 12 English -->
            <div class="line-row" data-line="12">
                <span class="line-number">12</span>
                <div class="words-container">
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="11-04">I tossed about</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word ablative" data-order="11-06">over the whole bed,</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="12-07">desiring</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="12-08">to see</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word object" data-order="12-09">the daylight,</span></span>
                </div>
            </div>
            
            <!-- Line 13 English -->
            <div class="line-row" data-line="13">
                <span class="line-number">13</span>
                <div class="words-container">
                    <span class="word-group"><span class="word-order"></span><span class="english-word conjunction" data-order="13-10">so that</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="13-11">I could talk</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word ablative" data-order="13-12">with you</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word conjunction" data-order="13-13">and at the same time</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word conjunction" data-order="13-14">so that</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="13-15">I could be with you.</span></span>
                </div>
            </div>
            
            <!-- Line 14 English -->
            <div class="line-row" data-line="14">
                <span class="line-number">14</span>
                <div class="words-container">
                    <span class="word-group"><span class="word-order"></span><span class="english-word conjunction" data-order="14-01">But</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word conjunction" data-order="14-02">after</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word subject" data-order="14-03">my limbs,</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word subject" data-order="14-04">exhausted</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word ablative" data-order="14-05">by suffering,</span></span>
                </div>
            </div>
            
            <!-- Line 15 English -->
            <div class="line-row" data-line="15">
                <span class="line-number">15</span>
                <div class="words-container">
                    <span class="word-group"><span class="word-order"></span><span class="english-word subject" data-order="15-06">half-dead,</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="15-07">were lying</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word ablative" data-order="15-08">in my little bed,</span></span>
                </div>
            </div>
            
            <!-- Line 16 English -->
            <div class="line-row" data-line="16">
                <span class="line-number">16</span>
                <div class="words-container">
                    <span class="word-group"><span class="word-order"></span><span class="english-word object" data-order="16-09">this</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word vocative" data-order="16-10">dear chap,</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word dative" data-order="16-11">for you</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word object" data-order="16-12">poem</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="16-13">I composed,</span></span>
                </div>
            </div>
            
            <!-- Line 17 English -->
            <div class="line-row" data-line="17">
                <span class="line-number">17</span>
                <div class="words-container">
                    <span class="word-group"><span class="word-order"></span><span class="english-word preposition" data-order="17-14">from</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word ablative" data-order="17-15">which</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="17-16">you might perceive</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word object" data-order="17-17">my</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word object" data-order="17-18">pain.</span></span>
                </div>
            </div>
            
            <!-- Line 18 English -->
            <div class="line-row" data-line="18">
                <span class="line-number">18</span>
                <div class="words-container">
                    <span class="word-group"><span class="word-order"></span><span class="english-word adverb" data-order="18-01">Now</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="18-02">take care</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="18-03">that you are not</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word subject" data-order="18-04">proud,</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word conjunction" data-order="18-05">and</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="18-06">we beg,</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word object" data-order="18-07">our prayers,</span></span>
                </div>
            </div>
            
            <!-- Line 19 English -->
            <div class="line-row" data-line="19">
                <span class="line-number">19</span>
                <div class="words-container">
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="19-09">take care</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="19-10">that you don't spit on,</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word vocative" data-order="19-11">my darling,</span></span>
                </div>
            </div>
            
            <!-- Line 20 English -->
            <div class="line-row" data-line="20">
                <span class="line-number">20</span>
                <div class="words-container">
                    <span class="word-group"><span class="word-order"></span><span class="english-word conjunction" data-order="20-12">lest</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word subject" data-order="20-13">Nemesis</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="20-14">demand</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word object" data-order="20-15">punishment</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word preposition" data-order="20-16">from</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word ablative" data-order="20-17">you.</span></span>
                </div>
            </div>
            
            <!-- Line 21 English -->
            <div class="line-row" data-line="21">
                <span class="line-number">21</span>
                <div class="words-container">
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="21-18">She is</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word subject" data-order="21-19">a violent</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word subject" data-order="21-20">goddess.</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word object" data-order="21-21">Her,</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="21-22">offending,</span></span>
                    <span class="word-group"><span class="word-order"></span><span class="english-word verb" data-order="21-23">beware!</span></span>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Style Panel -->
    <div class="style-panel">
        <div class="style-panel-header">
            <h3>Stylistic Features</h3>
        </div>
        <div class="style-list">
            <span class="style-tag" data-feature="indomitus">Erotic Vocabulary — <em>indomitus</em></span>
            <span class="style-tag" data-feature="furore">Erotic Vocabulary — <em>furōre</em></span>
            <span class="style-tag" data-feature="versarer">Physical Restlessness — <em>versārer</em></span>
            <span class="style-tag" data-feature="toto-lecto">Hyperbaton — <em>tōtō... lectō</em></span>
            <span class="style-tag" data-feature="cupiens">Erotic Vocabulary — <em>cupiēns</em></span>
            <span class="style-tag" data-feature="lucem">Metaphor — <em>lūcem</em></span>
            <span class="style-tag" data-feature="simulque">Emotional Urgency — <em>simulque ut essem</em></span>
            <span class="style-tag" data-feature="membra">Synecdoche — <em>membra</em></span>
            <span class="style-tag" data-feature="defessa">Pathetic Fallacy — <em>defessa</em></span>
            <span class="style-tag" data-feature="semimortua">Hyperbole — <em>semimortua</em></span>
            <span class="style-tag" data-feature="lectulo">Diminutive — <em>lectulō</em></span>
            <span class="style-tag" data-feature="hoc-poema">Framing — <em>hoc... poēma</em></span>
            <span class="style-tag" data-feature="iucunde">Vocative Address — <em>iūcunde</em></span>
            <span class="style-tag" data-feature="dolorem">Elegiac Language — <em>dolōrem</em></span>
            <span class="style-tag" data-feature="cave">Anaphora — <em>cavē... cavē</em></span>
            <span class="style-tag" data-feature="audax">Ironic Warning — <em>audāx</em></span>
            <span class="style-tag" data-feature="preces">Religious Register — <em>precēs</em></span>
            <span class="style-tag" data-feature="despuas">Vivid Verb — <em>dēspuās</em></span>
            <span class="style-tag" data-feature="ocelle">Diminutive — <em>ocelle</em></span>
            <span class="style-tag" data-feature="nemesis">Mythological Reference — <em>Nemesis</em></span>
            <span class="style-tag" data-feature="vemens">Emphatic Adjective — <em>vemēns</em></span>
            <span class="style-tag" data-feature="caveto">Future Imperative — <em>cavētō</em></span>
        </div>
        
        <div class="style-analysis" id="analysis-indomitus">
            <div class="style-analysis-title">Erotic Vocabulary — indomitus</div>
            <div class="style-analysis-lines">Line 11</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> <em>Indomitus</em> — "untamed, uncontrollable" — is borrowed straight from love poetry. It's what you are when you're overwhelmed by passion. Catullus can't control himself; he's like a wild horse refusing the bridle. But remember, this is about missing his poetry buddy, not a lover. The intensity is deliberately over-the-top.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The adjective <em>indomitus</em> ('untamed') imports erotic vocabulary into the description of intellectual friendship. Typically used of overwhelming passion, it elevates Catullus's longing for Calvus to the level of amatory obsession."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-furore">
            <div class="style-analysis-title">Erotic Vocabulary — furōre</div>
            <div class="style-analysis-lines">Line 11</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> <em>Furor</em> is madness, frenzy — the kind that seizes lovers. It's a strong word, suggesting divine possession or insanity. Catullus is driven mad by... an evening of writing verses with a friend? The hyperbole is playful but also genuine. The best friendships really do feel like this.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The ablative <em>furōre</em> ('frenzy') continues the amatory register, presenting Catullus's excitement as a form of madness (<em>furor</em>) — a term typically reserved for overwhelming erotic passion."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-versarer">
            <div class="style-analysis-title">Physical Restlessness — versārer</div>
            <div class="style-analysis-lines">Line 12</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> "I tossed about" — <em>versārer</em> is a frequentative verb, emphasising repeated action. Catullus is literally turning himself over and over in bed. You can picture it: the restless insomniac, unable to settle, twisting in the sheets. The physical agitation mirrors his mental state.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The imperfect subjunctive <em>versārer</em> ('I kept tossing about'), a frequentative verb, emphasises continuous, repeated action. The physical restlessness enacts Catullus's mental agitation."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-toto-lecto">
            <div class="style-analysis-title">Hyperbaton — tōtō... lectō</div>
            <div class="style-analysis-lines">Line 11</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> <em>Tōtō</em> ("the whole") is separated from <em>lectō</em> ("bed") by a whole chunk of the sentence. The word order enacts the meaning — Catullus is spread across the entire bed, and so is the phrase! The hyperbaton mimics the restless sprawling.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The hyperbaton <em>tōtō... lectō</em> ('over the whole bed') separates adjective from noun, syntactically enacting Catullus's physical sprawl across the bed as he tosses restlessly."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-cupiens">
            <div class="style-analysis-title">Erotic Vocabulary — cupiēns</div>
            <div class="style-analysis-lines">Line 12</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> <em>Cupiēns</em> comes from <em>cupere</em> — to desire. It's the root of Cupid's name! "Desiring to see the light" sounds innocent enough, but the verb carries erotic overtones. Catullus yearns for dawn so he can be with Calvus again. The language of desire permeates even this simple wish.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The present participle <em>cupiēns</em> ('desiring'), cognate with Cupid, maintains the erotic register. Even the wish to see daylight is framed in the language of passionate longing."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-lucem">
            <div class="style-analysis-title">Metaphor — lūcem</div>
            <div class="style-analysis-lines">Line 12</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> Catullus wants to see <em>lūcem</em> — "the light," i.e., daylight, dawn. But there's a double meaning lurking. Calvus is his <em>lūx</em>, his light — a term of endearment. The sunrise he yearns for is also his friend. Light = beloved is a standard poetic equation.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The object <em>lūcem</em> ('light/daylight') operates on two levels: literally the dawn that will enable reunion, metaphorically Calvus himself, since <em>lūx</em> is a standard term of endearment."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-simulque">
            <div class="style-analysis-title">Emotional Urgency — simulque ut essem</div>
            <div class="style-analysis-lines">Line 13</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> "And at the same time so that I could be with you" — after <em>ut tēcum loquerer</em> ("so I could talk with you"), this seems redundant. Talk WITH you AND be with you? But that's the point: talking isn't enough. Catullus wants presence, proximity, being-together. The repetition betrays emotional urgency.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The apparently redundant <em>simulque ut essem</em> ('and at the same time so I could be with you') after <em>ut tēcum loquerer</em> reveals emotional urgency: mere conversation is insufficient; Catullus craves physical presence."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-membra">
            <div class="style-analysis-title">Synecdoche — membra</div>
            <div class="style-analysis-lines">Line 14</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> <em>Membra</em> ("limbs") stands for the whole body — synecdoche. But it also distances Catullus from his own body, as if his limbs have a life of their own. He watches them, exhausted, as if from outside. The disembodied perspective adds to the sense of extremity.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The synecdoche <em>membra</em> ('limbs') for the whole body creates a distancing effect, as if Catullus observes his own exhausted body from outside, emphasising physical extremity."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-defessa">
            <div class="style-analysis-title">Pathetic Fallacy — defessa</div>
            <div class="style-analysis-lines">Line 14</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> His limbs are <em>defessa</em> — "exhausted, tired out." But what exhausted them? <em>Labōre</em> — suffering, toil. The limbs have done the work of suffering; they carry the emotional burden physically. Mind and body are one in Catullus's poetry.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The participle <em>defessa</em> ('exhausted') attributes physical tiredness to emotional <em>labor</em> ('suffering'), collapsing the distinction between mental and physical states characteristic of Catullan poetics."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-semimortua">
            <div class="style-analysis-title">Hyperbole — semimortua</div>
            <div class="style-analysis-lines">Line 15</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> "Half-dead" — come on, Catullus! You spent one evening writing verses with your mate and now you're half-dead? The hyperbole is gloriously excessive. But that's the point: this is what love feels like, even platonic intellectual love. The compound adjective (<em>semi-</em> + <em>mortuus</em>) intensifies the drama.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The compound adjective <em>semimortua</em> ('half-dead') exemplifies Catullan hyperbole, presenting the effects of intellectual excitement in terms of near-fatal exhaustion. The exaggeration is both playful and sincere."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-lectulo">
            <div class="style-analysis-title">Diminutive — lectulō</div>
            <div class="style-analysis-lines">Line 15</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> Not <em>lectō</em> ("bed") but <em>lectulō</em> ("little bed"). Another diminutive! Catullus in his dear little bed, with his dear little eyes (<em>ocellōs</em> from earlier). The diminutive adds pathos — poor Catullus, curled up in his small bed, pining away.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The diminutive <em>lectulō</em> ('little bed') adds affective colouring, presenting Catullus as vulnerable and pitiable, curled up in his small bed in a state of emotional exhaustion."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-hoc-poema">
            <div class="style-analysis-title">Framing — hoc... poēma</div>
            <div class="style-analysis-lines">Line 16</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> <em>Hoc... poēma</em> ("this poem") — the demonstrative <em>hoc</em> points to the very poem we're reading. It's a self-referential moment: THIS poem, the one in your hands right now. The poem becomes aware of itself as a poem. Meta!
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The demonstrative framing <em>hoc... poēma</em> ('this poem') creates a self-referential moment, as Catullus points to the very text the reader holds. The poem acknowledges its own existence as artefact."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-iucunde">
            <div class="style-analysis-title">Vocative Address — iūcunde</div>
            <div class="style-analysis-lines">Line 16</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> "Dear chap," "my pleasant one" — <em>iūcundus</em> means delightful, pleasant. It's an affectionate address, but notice it's the adjective as noun. Calvus IS pleasantness itself. The vocative creates intimacy and warmth.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The substantivised adjective <em>iūcunde</em> ('pleasant one/dear chap') as vocative creates intimate warmth. Calvus is addressed not by name but by quality — he embodies pleasantness."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-dolorem">
            <div class="style-analysis-title">Elegiac Language — dolōrem</div>
            <div class="style-analysis-lines">Line 17</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> <em>Dolor</em> is pain, grief — a keyword of elegiac poetry. It's what you feel when love goes wrong. But Catullus feels <em>dolor</em> for his friend, not a lover. The elegiac register elevates friendship to the emotional intensity of eros.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The noun <em>dolōrem</em> ('pain, grief') imports elegiac vocabulary into the friendship poem. <em>Dolor</em>, typically the suffering of disappointed love, here describes the ache of separation from a friend."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-cave">
            <div class="style-analysis-title">Anaphora — cavē... cavē</div>
            <div class="style-analysis-lines">Lines 18-19</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> "Beware... beware" — the repeated imperative creates urgency. The tone shifts here: from lovesick pining to mock-warning. Catullus plays at threatening his friend. The anaphora hammers home the (playful) danger.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The anaphora <em>cavē... cavē</em> ('beware... beware') in lines 18-19 creates urgency and marks the tonal shift from lovesick longing to playful warning. The repetition emphasises the (mock-)serious threat."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-audax">
            <div class="style-analysis-title">Ironic Warning — audāx</div>
            <div class="style-analysis-lines">Line 18</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> "Don't be <em>audāx</em>" — bold, proud, reckless. It's typically a positive quality (brave!), but here it means "don't be cocky enough to reject me." The irony: Catullus plays the humble suppliant while playfully threatening divine vengeance.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The adjective <em>audāx</em> ('bold/proud'), normally positive, is ironically deployed as a warning: Calvus must not be too proud to reciprocate Catullus's affection. The role reversal adds humour."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-preces">
            <div class="style-analysis-title">Religious Register — precēs</div>
            <div class="style-analysis-lines">Line 18</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> <em>Precēs</em> — prayers. Combined with <em>ōrāmus</em> ("we pray/beg"), the language shifts to religious register. Catullus addresses Calvus like a god who might grant or refuse his supplications. Friendship as worship!
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The noun <em>precēs</em> ('prayers') elevates the request to religious register, presenting Catullus as a suppliant and Calvus as a quasi-divine figure whose favour is sought through prayer."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-despuas">
            <div class="style-analysis-title">Vivid Verb — dēspuās</div>
            <div class="style-analysis-lines">Line 19</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> "Don't spit on" — <em>dēspuere</em> is a wonderfully crude verb. It's what you do to show contempt, to reject something utterly. After all the elevated language, this earthy verb is startling. Catullus can switch registers in an instant.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The vivid verb <em>dēspuās</em> ('spit on, reject with contempt') contrasts strikingly with the elevated religious register of <em>precēs</em> and <em>ōrāmus</em>, demonstrating Catullus's characteristic register-mixing."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-ocelle">
            <div class="style-analysis-title">Diminutive — ocelle</div>
            <div class="style-analysis-lines">Line 19</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> <em>Ocelle</em> — "little eye," "darling." It's the vocative of <em>ocellus</em>, the same diminutive we met in line 10. But now it's a term of endearment for Calvus: "my darling," "apple of my eye." The word that described Catullus's sleepless eyes now names his beloved friend.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The diminutive vocative <em>ocelle</em> ('darling, little eye') echoes <em>ocellōs</em> from line 10, creating a verbal link: the eyes that couldn't sleep now address the cause of their sleeplessness. The term of endearment intensifies the intimacy."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-nemesis">
            <div class="style-analysis-title">Mythological Reference — Nemesis</div>
            <div class="style-analysis-lines">Line 20</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> Nemesis — goddess of divine retribution, punisher of hubris. If Calvus is too proud (<em>audāx</em>), Nemesis will come for him! The mythological threat is playful but carries weight. Reject friendship at your peril; the gods are watching.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The invocation of <em>Nemesis</em>, goddess of retribution for <em>hubris</em>, playfully threatens divine punishment if Calvus rejects Catullus's friendship. The mythological apparatus elevates the stakes while maintaining an ironic tone."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-vemens">
            <div class="style-analysis-title">Emphatic Adjective — vemēns</div>
            <div class="style-analysis-lines">Line 21</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> <em>Vemēns</em> (= <em>vehemēns</em>) — violent, forceful, passionate. The archaic spelling adds gravitas. Nemesis isn't just any goddess; she's a violent one. The emphatic position (<em>est vemēns dea</em> — "she is a violent goddess") underlines the warning.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The emphatic predicate <em>est vemēns dea</em> ('she is a violent goddess'), with archaic spelling <em>vemēns</em>, underlines the threat. The short, declarative sentence adds weight to the warning."
            </div>
        </div>
        
        <div class="style-analysis" id="analysis-caveto">
            <div class="style-analysis-title">Future Imperative — cavētō</div>
            <div class="style-analysis-lines">Line 21</div>
            <div class="style-analysis-effect">
                <strong>What's happening:</strong> <em>Cavētō</em> — the future imperative, an archaic and solemn form. It's the language of laws and religious injunctions. "Thou shalt beware!" The poem ends with a mock-legal command, giving the playful warning a formal, weighty conclusion.
            </div>
            <div class="style-analysis-exam">
                <strong>In an exam:</strong> "The future imperative <em>cavētō</em> ('you shall beware') is an archaic, formal command typically found in legal and religious contexts. Its use here creates a mock-solemn conclusion to the playful threat, blending intimacy with grandeur."
            </div>
        </div>
    </div>
    
    <script>
        let currentStep = 0;
        let coloursHidden = false;
        const activeCategories = new Set();
        
        const wordOrders = [];
        document.querySelectorAll('.latin-column .word-group').forEach(group => {
            if (group.dataset.order) {
                wordOrders.push(group.dataset.order);
            }
        });
        wordOrders.sort((a, b) => {
            const [lineA, numA] = a.split('-');
            const [lineB, numB] = b.split('-');
            if (lineA !== lineB) return parseInt(lineA) - parseInt(lineB);
            return parseInt(numA) - parseInt(numB);
        });
        
        function revealWord(order) {
            const latinGroups = document.querySelectorAll(`.latin-column .word-group[data-order="${order}"]`);
            latinGroups.forEach(group => {
                group.classList.add('revealed');
            });
            
            document.querySelectorAll(`.english-word`).forEach(word => {
                if (word.dataset.order) {
                    const orders = word.dataset.order.split(',');
                    if (orders.includes(order)) {
                        word.classList.add('revealed');
                    }
                }
            });
        }
        
        function hideWord(order) {
            const latinGroups = document.querySelectorAll(`.latin-column .word-group[data-order="${order}"]`);
            latinGroups.forEach(group => {
                group.classList.remove('revealed');
            });
            
            document.querySelectorAll(`.english-word`).forEach(word => {
                if (word.dataset.order) {
                    const orders = word.dataset.order.split(',');
                    if (orders.includes(order)) {
                        word.classList.remove('revealed');
                    }
                }
            });
        }
        
        function toggleWord(order) {
            const latinGroup = document.querySelector(`.latin-column .word-group[data-order="${order}"]`);
            if (latinGroup && latinGroup.classList.contains('revealed')) {
                hideWord(order);
            } else {
                revealWord(order);
            }
        }
        
        function stepForward() {
            if (currentStep < wordOrders.length) {
                revealWord(wordOrders[currentStep]);
                currentStep++;
            }
        }
        
        function stepBackward() {
            if (currentStep > 0) {
                currentStep--;
                hideWord(wordOrders[currentStep]);
            }
        }
        
        function toggleCategory(category) {
            const keyItem = document.querySelector(`.key-item[data-category="${category}"]`);
            
            if (activeCategories.has(category)) {
                activeCategories.delete(category);
                keyItem.classList.remove('active');
                
                document.querySelectorAll(`.latin-column .word-group.${category}`).forEach(group => {
                    group.classList.remove('highlighted');
                });
                
                document.querySelectorAll(`.english-word.${category}`).forEach(word => {
                    word.classList.remove('highlighted');
                });
            } else {
                activeCategories.add(category);
                keyItem.classList.add('active');
                
                document.querySelectorAll(`.latin-column .word-group.${category}`).forEach(group => {
                    group.classList.add('highlighted');
                });
                
                document.querySelectorAll(`.english-word.${category}`).forEach(word => {
                    word.classList.add('highlighted');
                });
            }
        }
        
        document.getElementById('showAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.latin-column .word-group').forEach(group => {
                if (group.dataset.order) {
                    revealWord(group.dataset.order);
                }
            });
            currentStep = wordOrders.length;
        });
        
        document.getElementById('hideAllBtn').addEventListener('click', () => {
            document.querySelectorAll('.revealed').forEach(el => {
                el.classList.remove('revealed');
            });
            document.querySelectorAll('.english-word').forEach(el => {
                el.classList.remove('revealed');
            });
            document.querySelectorAll('.highlighted').forEach(el => {
                el.classList.remove('highlighted');
            });
            document.querySelectorAll('.key-item').forEach(el => {
                el.classList.remove('active');
            });
            activeCategories.clear();
            currentStep = 0;
        });
        
        document.getElementById('toggleColoursBtn').addEventListener('click', () => {
            coloursHidden = !coloursHidden;
            document.body.classList.toggle('hide-colours', coloursHidden);
            document.getElementById('toggleColoursBtn').textContent = 
                coloursHidden ? 'Show Colours' : 'Hide Colours';
        });
        
        document.querySelectorAll('.key-item').forEach(item => {
            item.addEventListener('click', () => {
                toggleCategory(item.dataset.category);
            });
        });
        
        document.querySelectorAll('.latin-column .word-group').forEach(group => {
            group.addEventListener('click', () => {
                if (group.dataset.order) {
                    toggleWord(group.dataset.order);
                }
            });
        });
        
        document.querySelectorAll('.english-word').forEach(word => {
            word.addEventListener('click', () => {
                if (word.dataset.order) {
                    const order = word.dataset.order.split(',')[0];
                    toggleWord(order);
                }
            });
        });
        
        document.querySelectorAll('.english-column .line-number').forEach(lineNum => {
            lineNum.style.cursor = 'pointer';
            lineNum.addEventListener('click', () => {
                const lineRow = lineNum.closest('.line-row');
                const lineOrders = [];
                lineRow.querySelectorAll('.english-word').forEach(word => {
                    if (word.dataset.order) {
                        word.dataset.order.split(',').forEach(order => {
                            if (!lineOrders.includes(order)) {
                                lineOrders.push(order);
                            }
                        });
                    }
                });
                
                const firstWord = lineRow.querySelector('.english-word');
                const isRevealed = firstWord && firstWord.classList.contains('revealed');
                
                lineOrders.forEach(order => {
                    if (isRevealed) {
                        hideWord(order);
                    } else {
                        revealWord(order);
                    }
                });
            });
        });
        
        document.getElementById('toggleStyleBtn').addEventListener('click', () => {
            document.body.classList.toggle('style-mode');
            const isStyleMode = document.body.classList.contains('style-mode');
            document.getElementById('toggleStyleBtn').textContent = 
                isStyleMode ? 'Hide Style' : 'Style Notes';
            
            if (!isStyleMode) {
                document.querySelectorAll('.style-tag.active').forEach(tag => {
                    tag.classList.remove('active');
                });
                document.querySelectorAll('.style-analysis.active').forEach(analysis => {
                    analysis.classList.remove('active');
                });
                document.querySelectorAll('.active-style').forEach(el => {
                    el.classList.remove('active-style');
                });
            }
        });
        
        document.querySelectorAll('.style-tag').forEach(tag => {
            tag.addEventListener('click', () => {
                const featureId = tag.dataset.feature;
                const isActive = tag.classList.contains('active');
                
                document.querySelectorAll('.style-tag.active').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.style-analysis.active').forEach(a => a.classList.remove('active'));
                document.querySelectorAll('.active-style').forEach(el => el.classList.remove('active-style'));
                
                if (!isActive) {
                    tag.classList.add('active');
                    
                    const analysis = document.getElementById('analysis-' + featureId);
                    if (analysis) {
                        analysis.classList.add('active');
                    }
                    
                    document.querySelectorAll('[data-style-feature]').forEach(el => {
                        const features = el.dataset.styleFeature.split(' ');
                        if (features.includes(featureId)) {
                            el.classList.add('active-style');
                        }
                    });
                }
            });
        });
        
        document.addEventListener('keydown', (e) => {
            if (e.code === 'ArrowRight' || e.code === 'ArrowDown' || e.code === 'PageDown' || e.code === 'Space' || e.code === 'Enter') {
                e.preventDefault();
                stepForward();
            }
            else if (e.code === 'ArrowLeft' || e.code === 'ArrowUp' || e.code === 'PageUp' || e.code === 'Backspace') {
                e.preventDefault();
                stepBackward();
            }
            else if (e.code === 'Escape' || e.code === 'KeyR') {
                document.getElementById('hideAllBtn').click();
            }
        });
    </script>
</body>
</html>
