<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2.3 Key Themes: Pietas, Fate, Destiny - Classicalia</title>
    <link rel="icon" type="image/png" href="../../../images/favicon.png">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif; background: #f8f9fa; min-height: 100vh; display: flex; }
        .sidebar { width: 260px; background: white; border-right: 1px solid #e5e7eb; position: fixed; height: 100vh; overflow-y: auto; z-index: 100; }
        .logo-section { padding: 1.5rem 1.25rem; border-bottom: 1px solid #e5e7eb; }
        .logo { display: flex; align-items: center; gap: 0.75rem; }
        .logo-icon { width: 32px; height: 32px; background: linear-gradient(135deg, #0066ff 0%, #4d94ff 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-weight: 700; color: white; font-size: 1.1rem; }
        .logo-text { font-size: 1.25rem; font-weight: 700; color: #1f2937; }
        .nav-section { padding: 1rem 0.5rem; }
        .nav-title { font-size: 0.7rem; font-weight: 600; text-transform: uppercase; color: #9ca3af; letter-spacing: 0.05em; padding: 0 0.75rem; margin-bottom: 0.5rem; }
        .nav-item { display: flex; align-items: center; gap: 0.75rem; padding: 0.625rem 0.75rem; margin: 0.125rem 0; border-radius: 8px; color: #4b5563; font-size: 0.9rem; transition: all 0.15s ease; cursor: pointer; user-select: none; }
        .nav-item:hover { background: #f3f4f6; color: #1f2937; }
        .nav-item.active { background: #eef2ff; color: #0066ff; font-weight: 500; }
        .nav-icon { width: 20px; height: 20px; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; }
        .main-content { margin-left: 260px; flex: 1; display: flex; flex-direction: column; }
        .top-bar { background: white; border-bottom: 1px solid #e5e7eb; padding: 0.875rem 2rem; position: sticky; top: 0; z-index: 50; }
        .content-wrapper { flex: 1; overflow-y: auto; }
        .content-container { max-width: 1400px; margin: 0 auto; padding: 2rem; }
        .lesson-header { margin-bottom: 2rem; }
        .lesson-title { font-size: 2rem; font-weight: 700; color: #1f2937; margin-bottom: 0.5rem; }
        .lesson-meta { display: flex; gap: 1.5rem; font-size: 0.875rem; color: #6b7280; }
        .section-content { display: none; }
        .section-content.active { display: block; animation: fadeIn 0.3s ease; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .card { background: white; border-radius: 12px; border: 1px solid #e5e7eb; padding: 2.5rem; margin-bottom: 1.5rem; }
        .card h3 { color: #2563eb; margin-bottom: 1.25rem; font-size: 1.35rem; font-weight: 600; }
        .explanation-text { font-size: 1rem; line-height: 1.7; color: #374151; margin-bottom: 1.5rem; }
        .what-happens { background: #f9fafb; border-radius: 8px; padding: 1.25rem; margin: 1.5rem 0; }
        .what-happens h4 { font-weight: 600; color: #1f2937; margin-bottom: 0.75rem; font-size: 1rem; }
        .what-happens p { color: #4b5563; line-height: 1.6; margin: 0; }
        .why-matters { background: #eff6ff; border-radius: 8px; padding: 1.25rem; margin: 1.5rem 0; }
        .why-matters h4 { font-weight: 600; color: #1e40af; margin-bottom: 0.75rem; font-size: 1rem; }
        .why-matters p { color: #1e40af; line-height: 1.6; margin-bottom: 0.75rem; }
        .why-matters p:last-child { margin-bottom: 0; }
        .analysis-box { background: white; border-radius: 0; padding: 0; margin: 1.5rem 0; }
        .analysis-box h4 { color: #1f2937; margin-bottom: 0.75rem; font-size: 1rem; font-weight: 600; }
        .analysis-box p { color: #374151; line-height: 1.7; margin-bottom: 0.75rem; }
        .analysis-box ul { list-style: none; padding: 0; margin: 0; }
        .analysis-box li { padding-left: 0; margin-bottom: 0.5rem; position: relative; color: #374151; line-height: 1.7; }
        .analysis-box li:before { content: ""; }
        .analysis-box strong { color: #2563eb; font-weight: 600; }
        .dark-box { background: #1f2937; color: white; border-radius: 8px; padding: 1.5rem; margin: 1.5rem 0; }
        .dark-box h4 { color: #60a5fa; margin-bottom: 0.75rem; }
        .dark-box ul { list-style: none; padding: 0; }
        .dark-box li { padding-left: 1.5rem; margin-bottom: 0.5rem; position: relative; line-height: 1.6; }
        .dark-box li:before { content: "‚Üí"; position: absolute; left: 0; color: #60a5fa; font-weight: bold; }
        .rieu-quote { background: white; border-left: 4px solid #3b82f6; padding: 1.25rem; border-radius: 0; margin: 1.5rem 0; font-style: italic; }
        .rieu-quote-text { color: #4b5563; line-height: 1.7; margin-bottom: 0.75rem; }
        .quote-ref { font-size: 0.85rem; color: #6b7280; font-weight: 500; font-style: normal; }
        .consider-box { background: #ede9fe; border-left: 4px solid #8b5cf6; padding: 1.25rem; border-radius: 0 8px 8px 0; margin: 1.5rem 0; }
        .consider-box h4 { color: #6d28d9; margin-bottom: 0.5rem; font-size: 0.95rem; }
        .consider-box p { color: #5b21b6; line-height: 1.6; margin: 0; }
        .nav-buttons { display: flex; justify-content: space-between; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid #e5e7eb; }
        .nav-btn { padding: 0.75rem 1.5rem; background: white; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 0.9rem; font-weight: 500; color: #374151; cursor: pointer; transition: all 0.15s ease; text-decoration: none; display: inline-block; }
        .nav-btn:hover:not(:disabled) { border-color: #0066ff; background: #f9fafb; color: #0066ff; }
        .nav-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .nav-btn.primary { background: #0066ff; border-color: #0066ff; color: white; }
        .nav-btn.primary:hover { background: #0052cc; }
        .key-point { background: #dbeafe; border-left: 4px solid #2563eb; padding: 1rem 1.25rem; border-radius: 0; margin: 1.5rem 0; }
        .key-point-title { font-weight: 600; color: #1e40af; margin-bottom: 0.5rem; font-size: 0.95rem; }
        .key-point-text { color: #1e40af; font-size: 0.9rem; line-height: 1.6; }
        .two-column { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin: 1.5rem 0; }
        .column-box { background: #f9fafb; border: 2px solid #e5e7eb; border-radius: 8px; padding: 1.25rem; }
        .column-box h4 { color: #1f2937; margin-bottom: 0.75rem; font-size: 1.05rem; }
        .column-box ul { list-style: none; padding: 0; }
        .column-box li { padding-left: 1.5rem; margin-bottom: 0.5rem; position: relative; color: #4b5563; line-height: 1.6; }
        .column-box li:before { content: "‚Ä¢"; position: absolute; left: 0; color: #0066ff; font-weight: bold; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="/auth/config.js"></script>
    <script src="/shared/reading-tracker.js"></script>
</head>
<body>
    <aside class="sidebar">
        <div class="logo-section">
            <a href="../../../../index.html" style="text-decoration: none;">
                <div class="logo">
                    <div class="logo-icon">C</div>
                    <span class="logo-text">Classicalia</span>
                </div>
            </a>
        </div>
        <nav class="nav-section">
            <div class="nav-title">Lesson Sections</div>
            <div class="nav-item active" data-section="overview"><span class="nav-icon">üìñ</span><span>Overview</span></div>
            <div class="nav-item" data-section="pietas"><span class="nav-icon">‚öñÔ∏è</span><span>Pietas</span></div>
            <div class="nav-item" data-section="fate"><span class="nav-icon">üîÆ</span><span>Fate</span></div>
            <div class="nav-item" data-section="destiny"><span class="nav-icon">üèõÔ∏è</span><span>Roman Destiny</span></div>
            <div class="nav-item" data-section="interaction"><span class="nav-icon">üîó</span><span>Theme Interaction</span></div>
        </nav>
    </aside>

    <main class="main-content">
        <div class="top-bar"></div>
        <div class="content-wrapper">
            <div class="content-container">
                <header class="lesson-header">
                    <h1 class="lesson-title">2.3 Key Themes: Pietas, Fate, Destiny</h1>
                    <div class="lesson-meta">
                        <span>üìö Topic 2: Books 1 & 2 - Flight from Troy</span>
                        <span>‚è±Ô∏è 45 min</span>
                        <span>üìñ Virgil's Aeneid</span>
                    </div>
                </header>

                <div class="section-content active" id="overview">
                    <div class="card">
                        <h3>The Thematic Foundation</h3>
                        <p class="explanation-text">
                            The Aeneid revolves around three interconnected themes: pietas (dutiful devotion), fate (unchangeable divine plan), and destiny (Rome's ordained greatness). Understanding these concepts is essential for analyzing any passage, character, or event in the epic.
                        </p>
                        <div class="key-point">
                            <div class="key-point-title">Why These Themes Matter for Exams</div>
                            <div class="key-point-text">
                                The OCR specification explicitly requires you to "discuss the themes of fate and pietas." When analyzing a passage, ask: How does this character demonstrate or violate pietas? How does fate drive this event? How does this connect to Roman destiny?
                            </div>
                        </div>
                    </div>
                    <div class="nav-buttons">
                        <a href="2-2.html" class="nav-btn">‚Üê Previous: Book 2</a>
                        <button class="nav-btn primary" onclick="showSection('pietas')">Next: Pietas ‚Üí</button>
                    </div>
                </div>

                <div class="section-content" id="pietas">
                    <div class="card">
                        <h3>Pietas: The Central Roman Virtue</h3>
                        <p class="explanation-text">
                            Pietas is often translated as "piety," but it's much broader. Pietas means dutiful devotion to ALL relationships that define you: gods, family, country. A person with pietas fulfills obligations even when painful, suppresses personal desires for communal good, and accepts divine will without complaint.
                        </p>
                        <div class="dark-box">
                            <h4>Pietas in Books 1 & 2</h4>
                            <ul>
                                <li><strong>Hides despair (1.208-209):</strong> "Forcing hope into his face though heart sick with worry"‚Äîduty to lead outweighs grief</li>
                                <li><strong>Carries father and gods (2.707-711):</strong> Iconic image‚Äîphysical embodiment of pietas</li>
                                <li><strong>Obeys divine commands (2.594-620):</strong> Venus tells him flee; he obeys though means "abandoning" Troy</li>
                                <li><strong>Accepts Creusa's death (2.776-789):</strong> Ghost says "divine will"‚Äîmust accept it</li>
                            </ul>
                        </div>
                    </div>
                    <div class="nav-buttons">
                        <button class="nav-btn" onclick="showSection('overview')">‚Üê Overview</button>
                        <button class="nav-btn primary" onclick="showSection('fate')">Next: Fate ‚Üí</button>
                    </div>
                </div>

                <div class="section-content" id="fate">
                    <div class="card">
                        <h3>Fate: The Unchangeable Divine Plan</h3>
                        <p class="explanation-text">
                            In the Aeneid, fate (fatum) is absolute. It's not probability or fortune‚Äîit's WRITTEN, predetermined, and even gods cannot change it. Jupiter himself is bound by fate though he knows its content and enforces it.
                        </p>
                        <div class="dark-box">
                            <h4>How Fate Works</h4>
                            <ul>
                                <li><strong>Fixed:</strong> Jupiter says outcome is "unmoved"‚Äînothing can alter it</li>
                                <li><strong>Secret but knowable:</strong> Gods "unroll the scroll of fate"‚Äîliterally written</li>
                                <li><strong>Gods delay not prevent:</strong> Juno's storm scatters fleet but doesn't destroy Aeneas</li>
                                <li><strong>Requires human cooperation:</strong> Aeneas must ACT‚Äîfate doesn't happen automatically</li>
                            </ul>
                        </div>
                    </div>
                    <div class="nav-buttons">
                        <button class="nav-btn" onclick="showSection('pietas')">‚Üê Pietas</button>
                        <button class="nav-btn primary" onclick="showSection('destiny')">Next: Destiny ‚Üí</button>
                    </div>
                </div>

                <div class="section-content" id="destiny">
                    <div class="card">
                        <h3>Roman Destiny: The Teleological Purpose</h3>
                        <p class="explanation-text">
                            The Aeneid is teleological‚Äîevery event points toward a predetermined END: Rome's eternal empire. Troy falls SO THAT Rome can rise. Aeneas suffers SO THAT Romans can rule.
                        </p>
                        <div class="rieu-quote">
                            <div class="rieu-quote-text">
                                "For them I set no limits in space or time: I have granted empire without end."
                            </div>
                            <div class="quote-ref">‚Äî Jupiter's prophecy, Aeneid 1.278-279</div>
                        </div>
                    </div>
                    <div class="nav-buttons">
                        <button class="nav-btn" onclick="showSection('fate')">‚Üê Fate</button>
                        <button class="nav-btn primary" onclick="showSection('interaction')">Next: Theme Interaction ‚Üí</button>
                    </div>
                </div>

                <div class="section-content" id="interaction">
                    <div class="card">
                        <h3>How Themes Interact</h3>
                        <p class="explanation-text">
                            These themes don't exist separately‚Äîthey're interconnected. Pietas is OBEDIENCE to fate. Fate LEADS TO Roman destiny. Roman destiny REQUIRES pietas.
                        </p>
                    </div>
                    <div class="nav-buttons">
                        <button class="nav-btn" onclick="showSection('destiny')">‚Üê Destiny</button>
                        <a href="2-4.html" class="nav-btn primary">Next Lesson: Characters ‚Üí</a>
                    </div>
                </div>

            </div>
        </div>
    </main>

    <script>
        function showSection(sectionId) {
            document.querySelectorAll('.section-content').forEach(section => {
                section.classList.remove('active');
            });
            const targetSection = document.getElementById(sectionId);
            if (targetSection) {
                targetSection.classList.add('active');
            }
            document.querySelectorAll('.nav-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('data-section') === sectionId) {
                    item.classList.add('active');
                }
            });
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        document.addEventListener('DOMContentLoaded', function() {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                item.addEventListener('click', function() {
                    showSection(this.getAttribute('data-section'));
                });
            });
        });
    </script>
</body>
</html>
